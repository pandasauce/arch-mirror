[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.530
CG_LOCATION=0.410
;0.420 1991 JDM E-NA1 NSX with full tank
;0.410 1992 JDM E-NA1 NSX-R with full tank
;0.418 1997 JDM E-NA2 NSX-S with full tank, jack and tools?
;0.418 1999 USDM E-NA2 NSX-Z with full tank, jack and tools?
;0.407 200X JDM LA-NA2 NSX-S with full tank
;0.394 2002 JDM LA-NA2 NSX-R with full tank
;0.400 2004 EUDM LA-NA1 NSX-T with full tank

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=2610
REAR_MOTION_RATIO=1.0
REAR=11240
;F ARB diameter = 18.3 OD 12.3 ID NA1
;F ARB MR = 0.583^2
;F ARB WIDTH	= 772
;F ARB LEVER	= 261
;F ARB DIAGONAL	= 419 (324)

;R ARB diameter = 19.1 OD 13.1 ID NA2S
;R ARB MR = 0.946^2
;R ARB WIDTH	= 867
;R ARB LEVER	= 218
;R ARB DIAGONAL	= 354 (322)

[FRONT]
TYPE=COSMIC
BASEY=-0.185
TRACK=1.620
;1.510 NSX
HUB_MASS=44.8 ;43.4
RIM_OFFSET=0.055

;NSX Front Geo

DJ0=F_NSX_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.32569, 0.16895, 0.25226
DJ0_POS_B=0.10631, 0.13945, -0.03950

DJ1=F_NSX_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.32269, 0.12991, -0.02021
DJ1_POS_B=0.10631, 0.13945, -0.03950
DJ1_KP=1

J0=F_NSX_LCA_FRONT
J0_BODY_A=F_NSX_FLCA_CASTER_BODY
J0_BODY_B=F_NSX_LCA_BODY
J0_POS=0.33699, -0.10933, 0.29486

J1=F_NSX_LCA_REAR
J1_BODY_A=F_NSX_RLCA_CAMBER_BODY
J1_BODY_B=F_NSX_LCA_BODY
J1_POS=0.41878, -0.10598, -0.03341

J2=F_NSX_LCA_BJ
J2_BODY_A=F_NSX_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.07257, -0.11684, -0.00342
J2_KP=0

STEER_JOINT_0=F_NSX_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.37300, -0.06500, -0.16000
STEER_JOINT_0_POS_B=0.10942, -0.06797, -0.15076

;ADJUSTERS

BODY_0_NAME=F_NSX_FLCA_CASTER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.33699, -0.10933, 0.29486
BODY_0_MIRROR=1

SLIDER_0=F_NSX_FLCA_CASTER_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=F_NSX_FLCA_CASTER_BODY
SLIDER_0_POS_A=0.23699, -0.10933, 0.29486
SLIDER_0_POS_B=0.33699, -0.10933, 0.29486
SLIDER_0_PARITY=-1

DJ2=F_NSX_FLCA_CASTER_ADJUSTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_NSX_FLCA_CASTER_BODY
DJ2_POS_A=0.23699, -0.10933, 0.29486
DJ2_POS_B=0.33699, -0.10933, 0.29486

BODY_1_NAME=F_NSX_RLCA_CAMBER_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.41878, -0.10598, -0.03341
BODY_1_MIRROR=1

SLIDER_1=F_NSX_RLCA_CAMBER_SLIDER
SLIDER_1_BODY_A=CHASSIS
SLIDER_1_BODY_B=F_NSX_RLCA_CAMBER_BODY
SLIDER_1_POS_A=0.51878, -0.10598, -0.03341
SLIDER_1_POS_B=0.41878, -0.10598, -0.03341
SLIDER_1_PARITY=-1

DJ3=F_NSX_RLCA_CAMBER_ADJUSTER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=F_NSX_RLCA_CAMBER_BODY
DJ3_POS_A=0.51878, -0.10598, -0.03341
DJ3_POS_B=0.41878, -0.10598, -0.03341

;SIM STUFF

BODY_2_NAME=F_NSX_LCA_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.22523, -0.11225, 0.06365
BODY_2_MIRROR=1

TOE_OUT=0.00000 ;-0.17
STATIC_CAMBER=-0.31 ;-1.00
DJ3_LENGTH_OFFSET=0.00301 ;RLCA Camber
STEER_JOINT_0_LENGTH_OFFSET=0.00201 ;Steer Toe
DJ2_LENGTH_OFFSET=-0.00201 ;FLCA Caster
;70L

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3775
PRELOAD=-0.007
;(Zanardi -0.010 @ wheel, -0.007 @ damper)
;Driver -0.005 @ wheel, -0.003 @ damper
;-0.015 @ wheel, -0.010 @ damper TOTAL

BODY_A=CHASSIS
BODY_B=F_NSX_LCA_BODY
POS_A=0.29610, 0.36033, -0.03232
POS_B=0.17926, -0.07683, -0.01846

MIN_LENGTH=0.38171
MAX_LENGTH=0.50671
BUMPSTOP_GAP=0.027

;DAMPER_TRAVEL = 0.061, 0.061
;PACKER_HEIGHT = 0.041
;BUMPSTOP_GAP = 0.020 + 0.007 = 0.027
;DAMPER_LENGTH = 0.45271 - 0.007 = 0.44571

;51722-SL0-901 H=0.041
;NSX-S 61/61 -10

INSTALL_RATE=1750000
RATE=0
SPRING_LUT=suspensions_spring_front.lut
;27318 - 63743 1997 NSX-S/Zanardi

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.010
PULL_FORCE=1

RATE=7249
;F_NSX_UCA_REAR 0.21638 m 166 Nm/rad 3545 N/m
;F_NSX_LCA_REAR 0.34621 m 166 Nm/rad 1385 N/m
;FRONT_COILOVER_0 0.33362 m 166 Nm/rad 1491 N/m
;FRONT_ARB 0.26100 m 166 Nm/rad 2437*0.583^2 828 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.185
TRACK=1.650
;1.530 NSX
HUB_MASS=51.5 ;49.1
RIM_OFFSET=0.060

;NSX Rear Geo

DJ0=R_NSX_UCA_FRONT
DJ0_BODY_A=CHASSIS_REAR_0
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.28949, 0.09220, 0.25319
DJ0_POS_B=0.11252, 0.15704, 0.00000

DJ1=R_NSX_UCA_REAR
DJ1_BODY_A=CHASSIS_REAR_0
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.34985, 0.09374, -0.02069
DJ1_POS_B=0.11252, 0.15704, 0.00000
DJ1_KP=1

DJ2=R_NSX_LCA_FRONT
DJ2_BODY_A=CHASSIS_REAR_0
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.29821, -0.07298,  0.30959
DJ2_POS_B=0.07976, -0.09932, 0.00000
DJ2_KP=0

;DJ3=R_NSX_LCA_REAR
;DJ3_BODY_A=R_NSX_RLCA_CAMBER_BODY
;DJ3_BODY_B=HUB_L
;DJ3_POS_A=0.46175, -0.10779, -0.07502
;DJ3_POS_B=0.07976, -0.09932, 0.00000
;DJ3_KP=0

STEER_JOINT_0=R_NSX_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR_0
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.51790, -0.07750, -0.15867
STEER_JOINT_0_POS_B=0.17024, -0.06600, -0.14884

;CAMBER

BODY_0_NAME=R_NSX_RLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.46175, -0.10779, -0.07502
BODY_0_MIRROR=1

SLIDER_0=R_NSX_RLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS_REAR_0
SLIDER_0_BODY_B=R_NSX_RLCA_CAMBER_BODY
SLIDER_0_POS_A=0.56175, -0.10779, -0.07502
SLIDER_0_POS_B=0.46175, -0.10779, -0.07502
SLIDER_0_PARITY=-1

DJ3=R_NSX_RLCA_CAMBER_ADJUSTER
DJ3_BODY_A=CHASSIS_REAR_0
DJ3_BODY_B=R_NSX_RLCA_CAMBER_BODY
DJ3_POS_A=0.56175, -0.10779, -0.07502
DJ3_POS_B=0.46175, -0.10779, -0.07502

;SIM STUFF

BODY_1_NAME=CHASSIS_REAR_0
BODY_1_MASS=340.0
;1345 - ((44.8 * 2) + (51.5 * 2))) * (1 - 0.410) / 2
BODY_1_INERTIA=1.392, 1.170, 3.856
BODY_1_CARPOS=0, 0, 0
BODY_1_USE_FOR_ARB=1

BODY_2_NAME=CHASSIS_REAR_1
BODY_2_MASS=340.0
BODY_2_INERTIA=1.392, 1.170, 3.856
BODY_2_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS_REAR_1
HJ0_BODY_B=CHASSIS_REAR_0
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

HJ1=PITCH_HINGE
HJ1_BODY_A=CHASSIS
HJ1_BODY_B=CHASSIS_REAR_1
HJ1_CARPOS_A=1, 0, 0
HJ1_CARPOS_B=-1, 0, 0

ENGINE_TORQUE_BODY=CHASSIS_REAR_0

TOE_OUT=0.00000 ;+0.27
STATIC_CAMBER=-1.51 ;-2.50
DJ3_LENGTH_OFFSET=0.00251 ;RLCA Camber
STEER_JOINT_0_LENGTH_OFFSET=0.00261 ;Steer Toe
;70L

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3825
PRELOAD=-0.010
;(Zanardi -0.010 @ wheel, -0.010 @ damper)
;Driver -0.004 @ wheel, -0.004 @ damper
;-0.014 @ wheel, -0.014 @ damper TOTAL

BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0.33394, 0.52550, 0.00000
POS_B=0.18067, 0.07935, 0.00000

MIN_LENGTH=0.36774
MAX_LENGTH=0.53174
BUMPSTOP_GAP=0.040

;DAMPER_TRAVEL = 0.094, 0.070
;PACKER_HEIGHT = 0.064
;BUMPSTOP_GAP = 0.030 + 0.010 = 0.040
;DAMPER_LENGTH = 0.47174 - 0.010 = 0.46174

;52722-SL0-901 H=0.064
;NSX-S 94/70 -10

INSTALL_RATE=1750000
RATE=49033
;49033 1997 NSX-S/Zanardi

[REAR_SPRING_0] ;R_NSX_LCA_REAR SPRING
BODY_A=R_NSX_RLCA_CAMBER_BODY
BODY_B=HUB_L
POS_A=0.46175, -0.10779, -0.07502
POS_B=0.07976, -0.09932, 0.00000

RATE=5680000
;3790000 NSX 1991-02 "NSX-R bushings 50% stiffer"
;5680000 NSX-R 1992, NSX S-Zero, NSX-S/Zanardi
;7900000 NSX-R 2002
PULL_FORCE=1

[REAR_DAMPER_0] ;R_NSX_LCA_REAR DAMPER
BODY_A=R_NSX_RLCA_CAMBER_BODY
BODY_B=HUB_L
POS_A=0.46175, -0.10779, -0.07502
POS_B=0.07976, -0.09932, 0.00000

DAMP_BUMP=16700
DAMP_REBOUND=16700
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99

[REAR_SPRING_1] ;BUSHING SPRING
BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.010
PULL_FORCE=1

RATE=10576
;R_NSX_UCA_FRONT 0.31062 m 150 Nm/rad 1555 N/m
;R_NSX_UCA_REAR 0.23990 m 150 Nm/rad 2606 N/m
;R_NSX_LCA_FRONT 0.37914 m 165 Nm/rad 1148 N/m
;R_NSX_LCA_REAR 0.38805 m 105 Nm/rad 697 N/m
;R_NSX_TOE 0.34884 m 150 Nm/rad 1233 N/m
;REAR_COILOVER_0 0.32124 m 150 Nm/rad 1454 N/m
;REAR_ARB 0.21800 m 100 Nm/rad 2104*0.946^2 1883 N/m

[REAR_TORSION_0] ;X TORSION SPRING
RATE=21656
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_1] ;X TORSION DAMPER
BODY_A=CHASSIS_REAR_1
BODY_B=CHASSIS_REAR_0
POS_A=	-0.235, 1, 1.037
POS_B=	-0.235, 0, 1.037

DAMP_BUMP=20540
DAMP_REBOUND=20540
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[REAR_TORSION_1] ;Y PITCH SPRING
RATE=216560
HINGE=PITCH_HINGE
PARITY=0

[REAR_DAMPER_2] ;Y PITCH DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR_1
POS_A=	0.765, 1, 2.037
POS_B=	0.765, 0, 2.037

DAMP_BUMP=64952
DAMP_REBOUND=64952
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.024
SUSP_LF=-0.024
WHEEL_RF=0.024
SUSP_RF=0.024
WHEEL_LR=-0.019
SUSP_LR=-0.019
WHEEL_RR=0.019
SUSP_RR=0.019

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1