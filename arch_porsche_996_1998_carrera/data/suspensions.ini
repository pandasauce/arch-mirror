[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.350
CG_LOCATION=0.370
;996.1 C2 39/61
;996.1 C4 40/60

[ARB]
FRONT=24063
REAR=20723

;F ARB diameter = 23.6 OD 16.6 ID M030
;F ARB MR = 0.904^2
;F ARB WIDTH = 1000
;F ARB LEVER = 197
;F ARB DIAGONAL = 351

;R ARB diameter = 19.6 OD 14.4 ID M030
;R ARB MR = 0.834^2
;R ARB WIDTH = 895
;R ARB LEVER = 166
;R ARB DIAGONAL = 166

[FRONT]
TYPE=COSMIC
BASEY=-0.190
TRACK=1.565
;1.455 ET55
HUB_MASS=40
RIM_OFFSET=0.055

;996 Front Geo

DJ0=F_996_LCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.43889, -0.11030, 0.29960
DJ0_POS_B=0.10012, -0.12677, 0.01767

DJ1=F_996_LCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.41884, -0.11173, -0.01325
DJ1_POS_B=0.10012, -0.12677, 0.01767
DJ1_KP=0

STEER_JOINT_0=F_996_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.41454, -0.02220, 0.11778
STEER_JOINT_0_POS_B=0.08866, -0.03295, 0.15238

J0=F_996_STRUT_TOP
J0_BODY_A=CHASSIS
J0_BODY_B=F_996_STRUT_BODY
J0_POS=0.29278, 0.45695, -0.06300
J0_KP=1

;996 Front Sim Stuff

BODY_0_NAME=F_996_STRUT_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.29278, 0.45695, -0.06300
BODY_0_MIRROR=1

SLIDER_0=F_996_STRUT_SLIDER
SLIDER_0_BODY_A=F_996_STRUT_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.29278, 0.45695, -0.06300
SLIDER_0_POS_B=0.16816, 0.07735, -0.01031
SLIDER_0_PARITY=-1

TOE_OUT=0.00000 ;+0.08
STATIC_CAMBER=0.11 ;-0.25
STEER_JOINT_0_LENGTH_OFFSET=-0.00061 ;Steer Toe
;64L, M030

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=2675
PRELOAD=-0.015
;(M030 -0.010 @ wheel -0.009 @ damper)
;Driver -0.006 @ wheel -0.006 @ damper
;-0.016 @ wheel -0.015 @ damper TOTAL

BODY_A=F_996_STRUT_BODY
BODY_B=HUB_L
POS_A=0.29278, 0.45695, -0.06300
POS_B=0.16816, 0.07735, -0.01031

MIN_LENGTH=0.30999
MAX_LENGTH=0.44799
BUMPSTOP_GAP=0.015

;DAMPER_TRAVEL = 0.084, 0.054
;PACKER_HEIGHT = 0.078
;BUMPSTOP_GAP = 0.006 + 0.009 = 0.015
;DAMPER_LENGTH = 0.40299 - 0.009 = 0.39399

INSTALL_RATE=340000
RATE=30000
;26000 ROW C2
;30000 ROW C2 M030

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.016
PULL_FORCE=1

RATE=681
;F_996_LCA_REAR 0.32057 m 100 Nm/rad 973 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.190
TRACK=1.610
;1.500 ET55
HUB_MASS=50
RIM_OFFSET=0.055

;996 Rear Geo

DJ0=R_996_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS0=0.32012, 0.10262, 0.09333
DJ0_POS1=0.11207, 0.11840,  0.02734
DJ0_KP=1

DJ1=R_996_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS0=0.32487, 0.05976, -0.12424
DJ1_POS1=0.12039, 0.08570, -0.05112

DJ2=R_996_LCA_FRONT
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=HUB_L
DJ2_POS0=0.31061, -0.04849, 0.30495
DJ2_POS1=0.11307, -0.11389, 0.01843

DJ3=R_996_LCA_REAR
DJ3_BODY_A=R_996_RLCA_CAMBER_BODY
DJ3_BODY_B=HUB_L
DJ3_POS0=0.38967, -0.09150, 0.02734
DJ3_POS1=0.11307, -0.11389, 0.01843
DJ3_KP=0

STEER_JOINT_0=R_996_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS0=0.43722, -0.08626, -0.10700
STEER_JOINT_0_POS1=0.11979, -0.10825, -0.10046

;996 Rear Adjusters

BODY_0_NAME=R_996_RLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.38967, -0.09150, 0.02734
BODY_0_MIRROR=1

SLIDER_0=R_996_RLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=R_996_RLCA_CAMBER_BODY
SLIDER_0_POS_A=0.48967, -0.09150, 0.02734
SLIDER_0_POS_B=0.38967, -0.09150, 0.02734
SLIDER_0_PARITY=-1

DJ4=R_996_RLCA_CAMBER_ADJUSTER
DJ4_BODY_A=CHASSIS
DJ4_BODY_B=R_996_RLCA_CAMBER_BODY
DJ4_POS_A=0.48967, -0.09150, 0.02734
DJ4_POS_B=0.38967, -0.09150, 0.02734

TOE_OUT=-0.00180 ;+0.17
STATIC_CAMBER=-1.21 ;-1.17
DJ4_LENGTH_OFFSET=-0.00201 ;RLCA Camber
;64L, M030

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=4370
PRELOAD=-0.015
;(M030 -0.010 @ wheel -0.009 @ damper)
;Driver -0.006 @ wheel -0.005 @ damper
;-0.016 @ wheel -0.014 @ damper TOTAL

BODY_A=CHASSIS
BODY_B=HUB_L
POS0=0.30759, 0.32701, -0.02675
POS1=0.22020, -0.06202, -0.06182

MIN_LENGTH=0.30776
MAX_LENGTH=0.45276
BUMPSTOP_GAP=0.039

;DAMPER_TRAVEL = 0.0835, 0.0615
;PACKER_HEIGHT = 0.0535
;BUMPSTOP_GAP = 0.030 + 0.009 = 0.039
;DAMPER_LENGTH = 0.40026 - 0.009 = 0.39126

INSTALL_RATE=340000
RATE=46000
;36000 ROW C2
;46000 ROW C2 M030

[REAR_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.016
PULL_FORCE=1

RATE=6851
;R_996_UCA_FRONT 0.21883 m 100 Nm/rad 2088 N/m
;R_996_UCA_REAR 0.21870 m 100 Nm/rad 2091 N/m
;R_996_LCA_REAR 0.27765 m 70 Nm/rad 908 N/m
;R_996_TOE 0.31826 m 100 Nm/rad 987 N/m
;REAR_COILOVER_0 0.35884 m 100 Nm/rad 777 N/m

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.000
SUSP_LF=-0.000
WHEEL_RF=0.000
SUSP_RF=0.000
WHEEL_LR=-0.000
SUSP_LR=-0.000
WHEEL_RR=0.000
SUSP_RR=0.000

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1