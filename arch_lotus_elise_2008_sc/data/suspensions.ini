[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.300
CG_LOCATION=0.370
;Elise SC 0.380

[ARB]
FRONT=6086
REAR=0
;F ARB diameter = 19.0 OD 14.8 ID
;F ARB MR = 0.700^2 S2
;F ARB WIDTH	= 793
;F ARB LEVER	= 234
;F ARB DIAGONAL	= 251

;R ARB diameter = 
;R ARB MR = 
;R ARB WIDTH	= 
;R ARB LEVER	= 
;R ARB DIAGONAL	= 

[FRONT]
TYPE=COSMIC
BASEY=-0.240
;470mm @ 130mm
TRACK=1.519
;1.457 0.031
HUB_MASS=30.0
RIM_OFFSET=0.031

;Elise S2 Front Geo
;POS_A X +0.00800 UCA, LCA, STEER

DJ0=F_ELISE_UCA_FRONT
DJ0_BODY_A=F_ELISE_UCA_CASTER_BODY
DJ0_BODY_B=F_ELISE_UBJ_CAMBER_BODY
DJ0_POS_A=0.39000, 0.11500, 0.14000
DJ0_POS_B=0.11000, 0.13000, -0.00280

DJ1=F_ELISE_UCA_REAR
DJ1_BODY_A=F_ELISE_UCA_CASTER_BODY
DJ1_BODY_B=F_ELISE_UBJ_CAMBER_BODY
DJ1_POS_A=0.39000, 0.11500, -0.03000
DJ1_POS_B=0.11000, 0.13000, -0.00280
DJ1_KP=1

J0=F_ELISE_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=F_ELISE_LCA_BODY
J0_POS=0.46500, -0.10500, 0.14000

J1=F_ELISE_LCA_REAR
J1_BODY_A=CHASSIS
J1_BODY_B=F_ELISE_LCA_BODY
J1_POS=0.46500, -0.10500, -0.16000

J2=F_ELISE_LCA_BJ
J2_BODY_A=F_ELISE_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.06000, -0.11000, 0.01500
J2_KP=0

STEER_JOINT_0=F_ELISE_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=F_ELISE_UBJ_CAMBER_BODY
STEER_JOINT_0_POS_A=0.44300, 0.08800, -0.10000 ;Base
;STEER_JOINT_0_POS_A=0.44300, 0.09600, -0.10000 ;Sport
STEER_JOINT_0_POS_B=0.16500, 0.11000, -0.12000

;Elise Front Adjusters

BODY_0_NAME=F_ELISE_UBJ_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.11000, 0.13000, -0.00280
BODY_0_MIRROR=1

SLIDER_0=F_ELISE_UBJ_CAMBER_SLIDER
SLIDER_0_BODY_A=F_ELISE_UBJ_CAMBER_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.01000, 0.13000, -0.00280
SLIDER_0_POS_B=0.11000, 0.13000, -0.00280
SLIDER_0_PARITY=-1

DJ2=F_ELISE_UBJ_CAMBER_ADJUSTER
DJ2_BODY_A=F_ELISE_UBJ_CAMBER_BODY
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.01000, 0.13000, -0.00280
DJ2_POS_B=0.11000, 0.13000, -0.00280

BODY_1_NAME=F_ELISE_UCA_CASTER_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.39000, 0.11500, 0.14000
BODY_1_MIRROR=1

SLIDER_1=F_ELISE_UCA_CASTER_SLIDER
SLIDER_1_BODY_A=CHASSIS
SLIDER_1_BODY_B=F_ELISE_UCA_CASTER_BODY
SLIDER_1_POS_A=0.39000, 0.11500, 0.24000
SLIDER_1_POS_B=0.39000, 0.11500, 0.14000
SLIDER_1_PARITY=-1

DJ3=F_ELISE_UCA_CASTER_ADJUSTER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=F_ELISE_UCA_CASTER_BODY
DJ3_POS_A=0.39000, 0.11500, 0.24000
DJ3_POS_B=0.39000, 0.11500, 0.14000

;Elise Front Sim Stuff

BODY_2_NAME=F_ELISE_LCA_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.26250, -0.10750, 0.00250
BODY_2_MIRROR=1

TOE_OUT=0.00001 ;-0.015
STATIC_CAMBER=0.21 ;-0.10
DJ2_LENGTH_OFFSET=-0.00101 ;UBJ Camber
STEER_JOINT_0_LENGTH_OFFSET=0.00071 ;Steer Toe
DJ3_LENGTH_OFFSET=-0.00101 ;UCA Caster
;20L, Align
;2x 75kg occupants

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=2160
PRELOAD=-0.0125
;(S2 -0.012 @ wheel -0.0085 @ damper)
;Driver -0.006 @ wheel -0.004 @ damper
;Align -0.024 @ wheel -0.017 @ damper

BODY_A=CHASSIS
BODY_B=F_ELISE_LCA_BODY
POS_A=0.35000, 0.23000, 0.02000
POS_B=0.13550, -0.11000, 0.02000

MIN_LENGTH=0.35101
MAX_LENGTH=0.42801
BUMPSTOP_GAP=0.025

;DAMPER_TRAVEL = 0.042, 0.035
;PACKER_HEIGHT = 0.026
;BUMPSTOP_GAP = 0.016 + 0.009 = 0.025
;DAMPER_LENGTH = 0.40201 - 0.009 = 0.39301

INSTALL_RATE=1750000
RATE=43000
;27500 N/m 140mm -0mm S1 Early (+0 tire)
;35000 N/m 140mm -0mm S1 Late (+0 tire)
;42500 N/m 130mm -10mm S1 Suspension Enhancement Kit (+0 tire)
;43000 N/m 135mm -12mm S2 (+7 tire)
;47500 N/m 130mm -17mm S2 LSS (+7 tire)
;45000 N/m 130mm -18mm S2 Exige (+8 tire)
;47500 N/m 120mm -28mm S2 Exige Track Pack (+8 tire)
;57000 N/m 120mm -28mm S2 Exige 240R / Lotus Sport Öhlins (+8 tire)
;80000 N/m ???mm -??mm S2 Lotus Sport Öhlins Track A005

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.018
PULL_FORCE=1

RATE=7270
;F_ELISE_UCA_FRONT 0.28000 m 166 Nm/rad 2117 N/m
;F_ELISE_UCA_REAR 0.28000 m 166 Nm/rad 2117 N/m
;F_ELISE_LCA_FRONT 0.40500 m 166 Nm/rad 1012 N/m
;F_ELISE_LCA_REAR 0.40500 m 166 Nm/rad 1012 N/m
;FRONT_COILOVER_0 0.40500 m 166 Nm/rad 1012 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.240
;470mm @ 130mm
TRACK=1.583
;1.507 0.038
HUB_MASS=35
RIM_OFFSET=0.038

;Elise Rear Geo

DJ0=R_ELISE_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=R_ELISE_UBJ_CAMBER_BODY
DJ0_POS_A=0.43600, 0.14500, 0.02500
DJ0_POS_B=0.21100, 0.15000, 0.04000

DJ1=R_ELISE_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=R_ELISE_UBJ_CAMBER_BODY
DJ1_POS_A=0.43600, 0.13500, -0.16000
DJ1_POS_B=0.21100, 0.15000, 0.04000
DJ1_KP=1

J0=R_ELISE_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=R_ELISE_LCA_BODY
J0_POS=0.49600, -0.09000,  0.46000

J1=R_ELISE_LCA_REAR
J1_BODY_A=R_ELISE_LCA_REAR_BUSHING_BODY
J1_BODY_B=R_ELISE_LCA_BODY
J1_POS=0.49600, -0.09000, -0.09000

BODY_0_NAME=R_ELISE_LCA_REAR_BUSHING_BODY
BODY_0_MASS=10
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.49600, -0.09000, -0.09000
BODY_0_MIRROR=1

SLIDER_0=R_ELISE_LCA_REAR_BUSHING_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=R_ELISE_LCA_REAR_BUSHING_BODY
SLIDER_0_POS_A=0.59600, -0.09000, -0.09000
SLIDER_0_POS_B=0.49600, -0.09000, -0.09000
SLIDER_0_PARITY=-1

J2=R_ELISE_LCA_BJ
J2_BODY_A=R_ELISE_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.12600, -0.11000, 0.10000
J2_KP=0

STEER_JOINT_0=R_ELISE_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.49600, -0.09000, -0.13000
STEER_JOINT_0_POS_B=0.14100, -0.11200, -0.14000

;Elise Rear Adjusters

BODY_1_NAME=R_ELISE_UBJ_CAMBER_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.21100, 0.15000, 0.04000
BODY_1_MIRROR=1

SLIDER_1=R_ELISE_UBJ_CAMBER_SLIDER
SLIDER_1_BODY_A=R_ELISE_UBJ_CAMBER_BODY
SLIDER_1_BODY_B=HUB_L
SLIDER_1_POS_A=0.11100, 0.15000, 0.04000
SLIDER_1_POS_B=0.21100, 0.15000, 0.04000
SLIDER_1_PARITY=-1

DJ2=R_ELISE_UBJ_CAMBER_ADJUSTER
DJ2_BODY_A=R_ELISE_UBJ_CAMBER_BODY
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.11100, 0.15000, 0.04000
DJ2_POS_B=0.21100, 0.15000, 0.04000

;Elise Rear Sim Stuff

BODY_2_NAME=R_ELISE_LCA_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.31100, -0.10000, 0.14250
BODY_2_MIRROR=1

TOE_OUT=0.00001 ;0.16
STATIC_CAMBER=-1.41 ;-1.80
DJ2_LENGTH_OFFSET=-0.00101 ;UBJ Camber
STEER_JOINT_0_LENGTH_OFFSET=0.00041 ;Steer Toe
;20L, Align
;2x 75kg occupants

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3445
PRELOAD=-0.016
;(S2 -0.017 @ wheel -0.012 @ damper)
;Driver -0.005 @ wheel -0.004 @ damper
;Align -0.027 @ wheel -0.019 @ damper

BODY_A=CHASSIS
BODY_B=R_ELISE_LCA_BODY
POS_A=0.31100, 0.25000, 0.10000
POS_B=0.20925, -0.10000, 0.12000

MIN_LENGTH=0.30154
MAX_LENGTH=0.38804
BUMPSTOP_GAP=0.0345

;DAMPER_TRAVEL = 0.0505, 0.036
;PACKER_HEIGHT = 0.028
;BUMPSTOP_GAP = 0.0215 + 0.013 = 0.0345
;DAMPER_LENGTH = 0.36504 - 0.013 = 0.35204

INSTALL_RATE=1750000
RATE=60000
;40000 N/m 140mm -0mm S1 Early, S1 Late (+0 tire)
;50000 N/m 130mm -22mm S1 Suspension Enhancement Kit (+12 tire)
;60000 N/m 135mm -17mm S2 (+12 tire)
;65000 N/m 130mm -22mm S2 LSS (+12 tire)
;65000 N/m 130mm -22mm S2 Exige (+12 tire)
;65000 N/m 120mm -32mm S2 Exige Track Pack (+12 tire)
;74000 N/m 120mm -32mm S2 Exige 240R / Lotus Sport Öhlins (+12 tire)
;100000 N/m ???mm -??mm S2 Lotus Sport Öhlins Track A005

[REAR_SPRING_0] ;R_ELISE_LCA_REAR SPRING
BODY_A=CHASSIS
BODY_B=R_ELISE_LCA_REAR_BUSHING_BODY
POS_A=0.59600, -0.09000, -0.09000
POS_B=0.49600, -0.09000, -0.09000

RATE=2000000
PULL_FORCE=1

[REAR_DAMPER_0] ;R_ELISE_LCA_REAR DAMPER
BODY_A=CHASSIS
BODY_B=R_ELISE_LCA_REAR_BUSHING_BODY
POS_A=0.59600, -0.09000, -0.09000
POS_B=0.49600, -0.09000, -0.09000

DAMP_BUMP=3000
DAMP_REBOUND=3000
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99

[REAR_SPRING_1] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.022
PULL_FORCE=1

RATE=10197
;R_ELISE_UCA_FRONT 0.22500 m 166 Nm/rad 3279 N/m
;R_ELISE_UCA_REAR 0.22500 m 166 Nm/rad 3279 N/m
;R_ELISE_LCA_FRONT 0.37000 m 166 Nm/rad 1213 N/m
;R_ELISE_LCA_REAR 0.37000 m 166 Nm/rad 1213 N/m
;REAR_COILOVER_0 0.37000 m 166 Nm/rad 1213 N/m

[GRAPHICS_OFFSETS]
WHEEL_LF=0.000
SUSP_LF=0.000
WHEEL_RF=-0.000
SUSP_RF=-0.000
WHEEL_LR=0.000
SUSP_LR=0.000
WHEEL_RR=-0.000
SUSP_RR=-0.000

[DAMAGE]
MIN_VELOCITY=30
GAIN=0.0003
MAX_DAMAGE=0.05
DEBUG_LOG=1