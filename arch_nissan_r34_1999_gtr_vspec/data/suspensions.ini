[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.665
CG_LOCATION=0.575
;R34 GT-R 56.1% empty
;Driver 0.3% rearward

[ARB]
FRONT=20751
REAR=12431
;F ARB diameter = 22.2 OD 15.8 ID R34 GT-R
;F ARB MR = 0.924^2
;F ARB LENGTH	= 786
;F ARB LEVER	= 226
;F ARB DIAGONAL	= 297 (267)

;R ARB diameter = 24.2 OD 15.8 ID R34 GT-R
;R ARB MR = 0.425^2
;R ARB LENGTH	= 770
;R ARB LEVER	= 145
;R ARB DIAGONAL	= 256 (170)

[FRONT]
TYPE=COSMIC
BASEY=-0.250
TRACK=1.540
;1.480 ET30 R34 GT-R
HUB_MASS=59.0
RIM_OFFSET=0.030

;R33 GT-R Front Geo

DJ0=F_R33_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=F_R33_NECK
DJ0_POS_A=0.32500, 0.35000, 0.13000
DJ0_POS_B=0.12000, 0.37000, 0.03000

DJ1=F_R33_UCA_MID
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=F_R33_NECK
DJ1_POS_A=0.29500, 0.35000, -0.07000
DJ1_POS_B=0.12000, 0.37000, 0.03000

DJ2=F_R33_UCA_REAR
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_R33_NECK
DJ2_POS_A=0.29500, 0.35000, -0.07000
DJ2_POS_B=0.10000, 0.37000, -0.05000

DJ3=F_R33_LCA_FRONT
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=HUB_L
DJ3_POS_A=0.38365, -0.10764, 0.24000
DJ3_POS_B=0.06904, -0.11214, 0.00500

DJ4=F_R33_LCA_REAR
DJ4_BODY_A=CHASSIS
DJ4_BODY_B=HUB_L
DJ4_POS_A=0.39365, -0.08764, -0.07500
DJ4_POS_B=0.06904, -0.11214, 0.00500

STEER_JOINT_0=F_R33_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.39000, -0.05000, -0.16000
STEER_JOINT_0_POS_B=0.10000, -0.06500, -0.14500

J0=F_R33_KP_UP
J0_BODY_A=F_R33_NECK
J0_BODY_B=HUB_L
J0_POS=0.13787, 0.13893, -0.01220
J0_KP=1

J1=F_R33_KP_DN
J1_BODY_A=F_R33_NECK
J1_BODY_B=HUB_L
J1_POS=0.06904, -0.11214, 0.00500
J1_KP=0

;SIM STUFF

BODY_0_NAME=F_R33_NECK
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.13787, 0.13893, -0.01220
BODY_0_MIRROR=1

ENGINE_TORQUE_BODY=CHASSIS

TOE_OUT=0.00000 ;+0.044
STATIC_CAMBER=-0.81 ;-0.83
STEER_JOINT_0_LENGTH_OFFSET=0.00011 ;Steer Toe
;65L, V-spec

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=4235
PRELOAD=-0.011
;(V-spec -0.010 @ wheel)
;Driver -0.004 @ wheel
;-0.014 @ wheel, -0.011 @ damper TOTAL

BODY_A=CHASSIS
BODY_B=F_R33_NECK
POS_A=0.25928, 0.45331, 0.03000
POS_B=0.26473, 0.04179, 0.03000

MIN_LENGTH=0.31356
MAX_LENGTH=0.45356
BUMPSTOP_GAP=0.050

;DAMPER_TRAVEL = 0.090, 0.050
;PACKER_HEIGHT = 0.048
;BUMPSTOP_GAP = 0.042 + 0.008 = 0.050
;DAMPER_LENGTH = 0.41156 - 0.008 = 0.40356

;R33 GT-R 90/50 -0

INSTALL_RATE=1110000
RATE=39240
;31392 R33/34 GT-R Standard
;39240 R33/34 GT-R V-spec, V-spec II

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.015
PULL_FORCE=1

RATE=10963
;F_R33_UCA_FRONT 0.22897 m 100 Nm/rad 1907 N/m
;F_R33_UCA_FRONT OUT 0.22897 m 100 Nm/rad 1907 N/m
;F_R33_UCA_REAR 0.19704 m 100 Nm/rad 2576 N/m
;F_R33_UCA_REAR OUT 0.19704 m 100 Nm/rad 2576 N/m
;F_R33_LCA_FRONT 0.39272 m 120 Nm/rad 778 N/m
;FRONT_COILOVER_0 0.36908 m 166 Nm/rad 1219 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.250
TRACK=1.550
;1.490 ET30 R34 GT-R
HUB_MASS=51.4
RIM_OFFSET=0.030

;R33 Rear Geo

DJ0=R_R33_UCA_FRONT
DJ0_BODY_A=CHASSIS_REAR_0
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.29441, 0.07892, 0.16337
DJ0_POS_B=0.10761, 0.10573, 0.03782

DJ1=R_R33_UCA_REAR
DJ1_BODY_A=R_R33_RUCA_CAMBER_BODY
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.40557, 0.09416, -0.09267
DJ1_POS_B=0.10438, 0.12416, -0.05501
DJ1_KP=1

DJ2=R_R33_LCA_FRONT
DJ2_BODY_A=R_R33_LCA_BUSHING_BODY
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.27206, -0.06797, 0.31330
DJ2_POS_B=0.11013, -0.11266, 0.00000

DJ3=R_R33_LCA_REAR
DJ3_BODY_A=R_R33_LCA_BUSHING_BODY
DJ3_BODY_B=HUB_L
DJ3_POS_A=0.41707, -0.11089, 0.03097
DJ3_POS_B=0.11013, -0.11266, 0.00000
DJ3_KP=0

BODY_0_NAME=R_R33_LCA_BUSHING_BODY
BODY_0_MASS=10
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.41707, -0.11089, 0.03097
BODY_0_MIRROR=1

SLIDER_0=R_R33_LCA_BUSHING_SLIDER
SLIDER_0_BODY_A=CHASSIS_REAR_0
SLIDER_0_BODY_B=R_R33_LCA_BUSHING_BODY
SLIDER_0_POS_A=0.27206, -0.06797, 0.31330
SLIDER_0_POS_B=0.41707, -0.11089, 0.03097
SLIDER_0_PARITY=-1

STEER_JOINT_0=R_R33_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR_0
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.55043, -0.04178, -0.13211
STEER_JOINT_0_POS_B=0.19635, -0.02644, -0.17075

;CAMBER

BODY_1_NAME=R_R33_RUCA_CAMBER_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.40557, 0.09416, -0.09267
BODY_1_MIRROR=1

SLIDER_1=R_R33_RUCA_CAMBER_SLIDER
SLIDER_1_BODY_A=CHASSIS_REAR_0
SLIDER_1_BODY_B=R_R33_RUCA_CAMBER_BODY
SLIDER_1_POS_A=0.50557, 0.09416, -0.09267
SLIDER_1_POS_B=0.40557, 0.09416, -0.09267
SLIDER_1_PARITY=-1

DJ4=R_R33_RUCA_CAMBER_ADJUSTER
DJ4_BODY_A=CHASSIS_REAR_0
DJ4_BODY_B=R_R33_RUCA_CAMBER_BODY
DJ4_POS_A=0.50557, 0.09416, -0.09267
DJ4_POS_B=0.40557, 0.09416, -0.09267

;SIM STUFF

BODY_2_NAME=CHASSIS_REAR_0
BODY_2_MASS=606.6
;1648 - ((59.0 * 2) + (51.4 * 2))) * (1 - 0.575)
BODY_2_INERTIA=1.315, 1.290, 4.325
BODY_2_CARPOS=0, 0, 0
BODY_2_USE_FOR_ARB=1

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS
HJ0_BODY_B=CHASSIS_REAR_0
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

ENGINE_TORQUE_BODY=CHASSIS_REAR_0

TOE_OUT=0.00000 ;+0.12
STATIC_CAMBER=-1.11 ;-1.25
STEER_JOINT_0_LENGTH_OFFSET=0.00071 ;Steer Toe
DJ4_LENGTH_OFFSET=0.00051 ;RUCA Camber
;65L, V-spec

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3290
PRELOAD=-0.013
;(V-spec -0.010 @ wheel)
;Driver -0.003 @ wheel
;-0.013 @ wheel, -0.013 @ damper TOTAL

BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0.29061, 0.39921, 0.00000
POS_B=0.18000, -0.05748, -0.10108

MIN_LENGTH=0.36064
MAX_LENGTH=0.51564
BUMPSTOP_GAP=0.054

;DAMPER_TRAVEL = 0.110, 0.045
;PACKER_HEIGHT = 0.066
;BUMPSTOP_GAP = 0.044 + 0.010 = 0.054
;DAMPER_LENGTH = 0.48064 - 0.010 = 0.47064

;R33 GT-R 110/45 -0

INSTALL_RATE=1110000
RATE=49050
;31392 R33/34 GT-R Standard
;49050 R33/34 GT-R V-spec, V-spec II

[REAR_SPRING_0] ;R_R33_LCA_REAR SPRING
BODY_A=CHASSIS_REAR_0
BODY_B=R_R33_LCA_BUSHING_BODY
POS_A=0.27206, -0.06797, 0.31330
POS_B=0.41707, -0.11089, 0.03097

RATE=3000000
PULL_FORCE=1

[REAR_DAMPER_0] ;R_R33_LCA_REAR DAMPER
BODY_A=CHASSIS_REAR_0
BODY_B=R_R33_LCA_BUSHING_BODY
POS_A=0.27206, -0.06797, 0.31330
POS_B=0.41707, -0.11089, 0.03097

DAMP_BUMP=5477
DAMP_REBOUND=5477
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99

[REAR_SPRING_1] ;BUSHING SPRING
BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.013
PULL_FORCE=1

RATE=9513
;R_R33_UCA_FRONT 0.22666 m 100 Nm/rad 1946 N/m
;R_R33_UCA_FRONT OUT 0.22666 m 120 Nm/rad 2336 N/m
;R_R33_UCA_REAR 0.30501 m 100 Nm/rad 1075 N/m
;R_R33_UCA_REAR OUT 0.30501 m 100 Nm/rad 1075 N/m
;R_R33_LCA_FRONT 0.35549 m 120 Nm/rad 950 N/m
;R_R33_LCA_REAR 0.30850 m 100 Nm/rad 1051 N/m
;REAR_COILOVER_0 0.39213 m 166 Nm/rad 1080 N/m

[REAR_TORSION_0] ;X TORSION SPRING
RATE=24000
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_1] ;X TORSION DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR_0
POS_A=	-0.225, 1, 1.532
POS_B=	-0.225, 0, 1.532

DAMP_BUMP=28881
DAMP_REBOUND=28881
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.010
SUSP_LF=-0.010
WHEEL_RF=0.010
SUSP_RF=0.010
WHEEL_LR=-0.000
SUSP_LR=-0.000
WHEEL_RR=0.000
SUSP_RR=0.000

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1