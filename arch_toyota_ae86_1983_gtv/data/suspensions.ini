[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.400
CG_LOCATION=0.600
;0.5500 with 50l fuel
;0.5435 with 50l fuel and driver

[ARB]
FRONT=14474
REAR=2049
;F ARB diameter = 21.0 OD APX
;F ARB MR = 0.667^2
;F ARB WIDTH	= 662
;F ARB LEVER	= 214
;F ARB DIAGONAL	= 311 (241)

;R ARB diameter = 15.0 OD GTV
;R ARB MR = 0.688^2
;R ARB WIDTH	= 680
;R ARB LEVER	= 285
;R ARB DIAGONAL	= 412 (340)

[FRONT]
TYPE=COSMIC
BASEY=-0.250
TRACK=1.409
;1.355 ET27
;1.373 ET18
HUB_MASS=35.6
;33.912 GT-APEX
;35.612 GTV
RIM_OFFSET=0.018
;ET27 Standard 5.0JX13 ET27 4X114.3
;ET18 Optional 6.0JX14 ET18 4X114.3

;AE86 Front Geo

DJ0=F_AE86_LCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.37492, -0.00987, 0.3500
DJ0_POS_B=0.10316, -0.08223, 0.0075

DJ1=F_AE86_LCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.38538, -0.03492, 0.0100
DJ1_POS_B=0.10316, -0.08223, 0.0075
DJ1_KP=0

STEER_JOINT_0=F_AE86_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.4000, -0.0310, -0.1000

;STEER_JOINT_0_POS_B=0.1345, -0.0750, -0.1295 ;MS
STEER_JOINT_0_POS_B=0.1275, -0.0750, -0.1075 ;PS


J0=F_AE86_STRUT_TOP
J0_BODY_A=CHASSIS
J0_BODY_B=F_AE86_STRUT_BODY
J0_POS=0.20236, 0.54596, -0.0338
J0_KP=1

;SIM STUFF

BODY_0_NAME=F_AE86_STRUT_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.20236, 0.54596, -0.0338
BODY_0_MIRROR=1

SLIDER_0=F_AE86_STRUT_SLIDER
SLIDER_0_BODY_A=F_AE86_STRUT_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.20236, 0.54596, -0.0338
SLIDER_0_POS_B=0.11176, -0.03775, 0.0045
SLIDER_0_PARITY=-1

TOE_OUT=0.00000 ;+0.05
STATIC_CAMBER=0.31 ;+0.25
STEER_JOINT_0_LENGTH_OFFSET=0.00011 ;Steer Toe
;0L

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=2605
PRELOAD=-0.011
;Driver -0.010 @ wheel, -0.011 @ damper

BODY_A=F_AE86_STRUT_BODY
BODY_B=HUB_L
POS_A=0.20236, 0.54596, -0.0338
POS_B=0.11176, -0.03775, 0.0045

MIN_LENGTH=0.470952
MAX_LENGTH=0.656952
BUMPSTOP_GAP=0.066

;DAMPER_TRAVEL = 0.121, 0.065
;PACKER_HEIGHT = 0.055
;BUMPSTOP_GAP = 0.066 + 0.000 = 0.066
;DAMPER_LENGTH = 0.591952 - 0.000 = 0.591952

;48331-12080 H=50mm?

;Stock AE86 121/65 -0
;48511-AE851 123/65 -0
;48511-AE831 110/55 -50
;HTS112F 101/55 -30
;HTS102F 71/55 -60

INSTALL_RATE=340000
RATE=17658
;JDM GTV = 17658 / 21582
;JDM APX, GT, SR = 15696 / 18148.5
;JDM SE, XL, XL-Lisse, Lime, GL = 15696 / 17658
;USDM GT-S = 18639 / 21582
;USDM SR5 = 15696 / 16677
;EUDM GT, SR = 17658 / 21582

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.010
PULL_FORCE=1

RATE=1211 
;F_AE86_LCA_FRONT 0.44317 m 70 Nm/rad 356 N/m
;F_AE86_LCA_REAR 0.28617 m 70 Nm/rad 855 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.250
TRACK=1.399
;1.345 ET27
;1.363 ET18
HUB_MASS=24.6
;112.0385 GT-APEX
;115.4385 GTV
;(115.4385 / 2) = 57.71925
;57.71925 - (66.2585 / 2) = 24.59
RIM_OFFSET=0.018
;ET27 Standard 5.0JX13 ET27 4X114.3
;ET18 Optional 6.0JX14 ET18 4X114.3

;AE86 Rear Geo

DJ0=R_AE86_UCA_LR
DJ0_BODY_A=CHASSIS_REAR_0
DJ0_BODY_B=R_AE86_AXLE
DJ0_POS_A=0.42951, 0.10886, 0.21682
DJ0_POS_B=0.43050, 0.08748, -0.05420
DJ0_PARITY=0

DJ1=R_AE86_LCA
DJ1_BODY_A=CHASSIS_REAR_0
DJ1_BODY_B=R_AE86_AXLE
DJ1_POS_A=0.23009, -0.03652, 0.47245
DJ1_POS_B=0.18398, -0.075745, 0.00607

DJ2=R_AE86_PANHARD
DJ2_BODY_A=CHASSIS_REAR_0
DJ2_BODY_B=R_AE86_AXLE
DJ2_POS_A=1.13423, 0.04836, -0.16513
DJ2_POS_B=0.34134, 0.01127, -0.10698
DJ2_PARITY=0

;SIM STUFF

J0=R_AE86_AXLE_J0
J0_BODY_A=R_AE86_AXLE
J0_BODY_B=HUB_L
J0_POS=0.027, 0.1, 0.1
J0_KP=1

J1=R_AE86_AXLE_J1
J1_BODY_A=R_AE86_AXLE
J1_BODY_B=HUB_L
J1_POS=0.027, -0.1, 0.1
J1_KP=0

STEER_JOINT_0=R_AE86_AXLE_TOE
STEER_JOINT_0_BODY_A=R_AE86_AXLE
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.69950, 0.00000, 0.00000
STEER_JOINT_0_POS_B=0.027, 0.0, -0.1

BODY_0_NAME=R_AE86_AXLE
BODY_0_MASS=66.3
BODY_0_INERTIA=1, 0.1, 0.1
BODY_0_POS=0.69950, 0.00000, 0.00000

BODY_1_NAME=CHASSIS_REAR_0
BODY_1_MASS=165.7
;1015 - ((35.6 * 2) + (24.6 * 2) + (66.3 * 1))) * (1 - 0.600) / 2
BODY_1_INERTIA=1.182, 1.275, 3.902
BODY_1_CARPOS=0, 0, 0
BODY_1_USE_FOR_ARB=1

BODY_2_NAME=CHASSIS_REAR_1
BODY_2_MASS=165.7
BODY_2_INERTIA=1.182, 1.275, 3.902
BODY_2_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS_REAR_1
HJ0_BODY_B=CHASSIS_REAR_0
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

HJ1=PITCH_HINGE
HJ1_BODY_A=CHASSIS
HJ1_BODY_B=CHASSIS_REAR_1
HJ1_CARPOS_A=1, 0, 0
HJ1_CARPOS_B=-1, 0, 0

ENGINE_TORQUE_BODY=R_AE86_AXLE

TOE_OUT=0.00015
STATIC_CAMBER=0.01
;0L

[REAR_COILOVER_0] ;CORNER SPRING
PULL_FORCE=0
PRELOAD_FORCE=1910
PRELOAD=-0.010
;Driver -0.009 @ wheel, -0.010 @ damper

BODY_A=CHASSIS_REAR_0
BODY_B=R_AE86_AXLE
POS_A=0.26112, 0.27529, 0.03419
POS_B=0.23367, 0.05328, 0.00000

MIN_LENGTH=0.086298
MAX_LENGTH=1.226298
BUMPSTOP_GAP=0.061

;HARDSTOP_UP = 0.140
;BUMPSTOP_HEIGHT = 0.079
;HARDSTOP_GAP = 0.061
;SPRING_LENGTH = 0.226298
;48306-12050 H=80mm?

;Hardstop 140/- -0

INSTALL_RATE=340000
RATE=21582
;JDM GTV = 17658 / 21582
;JDM APX, GT, SR = 15696 / 18148.5
;JDM SE, XL, XL-Lisse, Lime, GL = 15696 / 17658
;USDM GT-S = 18639 / 21582
;USDM SR5 = 15696 / 16677
;EUDM GT, SR = 17658 / 21582

[REAR_COILOVER_1] ;CORNER DAMPER
ELECT_LOG=CORNER
BODY_A=CHASSIS_REAR_0
BODY_B=R_AE86_AXLE
POS_A=0.24497, 0.39881, -0.11208
POS_B=0.13275, -0.09849, -0.11208

MIN_LENGTH=0.379804
MAX_LENGTH=0.574804
BUMPSTOP_GAP=0.090

;DAMPER_TRAVEL = 0.130, 0.065
;CUSHION_HEIGHT = 0.040
;CUSHION_GAP = 0.090 + 0.000 = 0.090
;DAMPER_LENGTH = 0.509804 - 0.000 = 0.509804

;90948-01003 H=20mm? + 90948-01018 H=20mm?

;Standard 130/65 -0
;48531-AE851 130/65 -0
;48531-AE831 120/60 -50
;HTS112R 121.5/60 -30
;HTS102R 87.5/60 -60

RATE=0

[REAR_SPRING_0] ;R_AE86_UCA_RR SPRING
BODY_A=CHASSIS_REAR_0
BODY_B=R_AE86_AXLE
POS_A=0.42951, 0.10886, 0.21682
POS_B=0.43050, 0.08748, -0.05420

RATE=2000000
PULL_FORCE=1
PARITY=1

[REAR_DAMPER_0] ;R_AE86_UCA_RR DAMPER
BODY_A=CHASSIS_REAR_0
BODY_B=R_AE86_AXLE
POS0=0.42951, 0.10886, 0.21682
POS1=0.43050, 0.08748, -0.05420

DAMP_BUMP=11515
DAMP_REBOUND=11515
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=1

[REAR_SPRING_1] ;BUSHING SPRING
BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.009
PULL_FORCE=1

RATE=1946
;R_AE86_UCA 0.27186 m 70 Nm/rad 947 N/m
;R_AE86_LCA 0.47029 m 100 Nm/rad 452 N/m
;R_AE86_PANHARD 0.79588 m 100 Nm/rad 158 N/m
;REAR_COILOVER_1 0.50672 m 100 Nm/rad 389 N/m

[REAR_TORSION_0] ;X TORSION SPRING
RATE=5000
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_1] ;X TORSION DAMPER
BODY_A=CHASSIS_REAR_1
BODY_B=CHASSIS_REAR_0
POS_A=	-0.301, 1, 1.440
POS_B=	-0.301, 0, 1.440

DAMP_BUMP=6890
DAMP_REBOUND=6890
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[REAR_TORSION_1] ;Y PITCH SPRING
RATE=50000
HINGE=PITCH_HINGE
PARITY=0

[REAR_DAMPER_2] ;Y PITCH DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR_1
POS_A=	0.700, 1, 2.440
POS_B=	0.700, 0, 2.440

DAMP_BUMP=21788
DAMP_REBOUND=21788
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=0.000
SUSP_LF=0.000
WHEEL_RF=-0.000
SUSP_RF=-0.000
WHEEL_LR=0.000
SUSP_LR=0.000
WHEEL_RR=-0.000
SUSP_RR=-0.000

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1