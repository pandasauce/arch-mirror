[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.555
CG_LOCATION=0.545
;54.3% empty

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=126526
REAR_MOTION_RATIO=1.0
REAR=57630

;F ARB diameter = 34.0 OD
;F ARB MR = 0.920^2
;F ARB WIDTH	= 813
;F ARB LEVER	= 136
;F ARB DIAGONAL	= 216 (150)
;F ARB BLADE HEIGHT	= 10
;F ARB BLADE THICKNESS	= 38
;F ARB BLADE LENGTH	= 118

;R ARB diameter = 34.9 OD 28.8 ID
;R ARB MR = 1.150^2
;R ARB WIDTH	= 1050
;R ARB LEVER	= 308
;R ARB DIAGONAL	= 308
;R ARB BLADE HEIGHT	= 12
;R ARB BLADE THICKNESS	= 39
;R ARB BLADE LENGTH	= 254

[FRONT]
TYPE=COSMIC
BASEY=-0.200 
;-0.240 roadcar design
TRACK=1.472
;1.472 ET00
HUB_MASS=48
RIM_OFFSET=0.015
;BBS E55/48 ET15 1.442

;E30 M3 DTM Front Geo

DJ0=F_E30_LCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.38460, -0.12526, -0.05468 ;+20mm
DJ0_POS_B=0.06757, -0.18688, -0.00653

DJ1=F_E30_LCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.38623, -0.15668, -0.36723
DJ1_POS_B=0.06757, -0.18688, -0.00653
DJ1_KP=0

STEER_JOINT_0=F_E30_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.41802, -0.10404, 0.03835 ;+20mm

STEER_JOINT_0_POS_B=0.07042, -0.16403, 0.11180 ;-0mm
STEER_JOINT_0_POS_B_1=0.07042, -0.16803, 0.11180 ;-4mm
STEER_JOINT_0_POS_B_2=0.07042, -0.17003, 0.11180 ;-6mm
STEER_JOINT_0_POS_B_3=0.07042, -0.17203, 0.11180 ;-8mm
STEER_JOINT_0_POS_B_4=0.07042, -0.17403, 0.11180 ;-10mm
STEER_JOINT_0_POS_B_5=0.07042, -0.17603, 0.11180 ;-12mm

DJ2=F_E30_STRUT_TOP
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_E30_STRUT_BODY
DJ2_POS_A=0.35830, 1.40600, -0.31860
DJ2_POS_B=0.21671, 0.43659, -0.11833

DJ3=F_E30_STRUT_CAMBER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=F_E30_STRUT_BODY
DJ3_POS_A=1.20620, 0.29200, -0.11830
DJ3_POS_B=0.21671, 0.43659, -0.11833

DJ4=F_E30_STRUT_CASTER
DJ4_BODY_A=CHASSIS
DJ4_BODY_B=F_E30_STRUT_BODY
DJ4_POS_A=0.21670, 0.63890, 0.86100
DJ4_POS_B=0.21671, 0.43659, -0.11833
DJ4_KP=1

;E30 M3 Front Sim Stuff

BODY_0_NAME=F_E30_STRUT_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.21671, 0.43659, -0.11833
BODY_0_MIRROR=1

SLIDER_0=F_E30_STRUT_SLIDER
SLIDER_0_BODY_A=F_E30_STRUT_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.21671, 0.43659, -0.11833
SLIDER_0_POS_B=0.14459, -0.05712, 0.01632
SLIDER_0_PARITY=-1

TOE_OUT=0.00000 ;-0.02
STATIC_CAMBER=-2.01 ;-4.00 (-4.00)
;STATIC_CAMBER=-0.91 roadcar design
DJ3_LENGTH_OFFSET=-0.01201 ;Strut Camber
DJ0_LENGTH_OFFSET=0.00101 ;LCA F Camber
STEER_JOINT_0_LENGTH_OFFSET=-0.00041 ;Steer Toe
DJ1_LENGTH_OFFSET=0.00000 ;LCA R Caster
DJ4_LENGTH_OFFSET=0.02001 ;Strut Caster (Unadjustable)
;110L, Driver, DTM

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=2860
PRELOAD=-0.027
;(DTM -0.030 @ wheel, -0.027 @ damper)

BODY_A=F_E30_STRUT_BODY
BODY_B=HUB_L
POS_A=0.21671, 0.43659, -0.11833
POS_B=0.14459, -0.05712, 0.01632

MIN_LENGTH=0.42780
MAX_LENGTH=0.56080
BUMPSTOP_GAP=0.037

;DAMPER_TRAVEL = 0.073, 0.060
;PACKER_HEIGHT = 0.052
;BUMPSTOP_GAP = 0.021 + 0.016 = 0.037
;DAMPER_LENGTH = 0.51680 - 0.016 = 0.50080

;E30 M3 GrA 73/60 -18 (-16)

;E30 M3 GrA BMW Motorsport bumpstop 31-33-2-225-377  H=0.052

INSTALL_RATE=25390000
RATE=240000
;170N/mm main-spring
HELPER_RATE=50000
;N/m of helper spring - new for 0.2.2 - does not work with spring lut at this time (spring lut acts in parallel with linear springs, not in series)
HELPER_TRAVEL=0.027 ;0.040 L
;m of deflection at which helper compresses fully - new for 0.2.2

[REAR]
TYPE=COSMIC
BASEY=-0.240
TRACK=1.484
;1.484 ET00
HUB_MASS=45
RIM_OFFSET=0.000
;BBS E55/48 ET15 1.454
;-0.015 hubs

;E30 DTM Rear Geo
;11.0deg sweep angle

J0=R_E30_STA_IN
J0_BODY_A=CHASSIS
J0_BODY_B=R_E30_STA_ADJUSTER_BODY_0
J0_POS=0.49317, 0.01700, 0.31879

J1=R_E30_STA_J1
J1_BODY_A=R_E30_STA_ADJUSTER_BODY_0
J1_BODY_B=HUB_L
J1_POS=0.08244, 0.1, 0.1
J1_KP=1

J2=R_E30_STA_J2
J2_BODY_A=R_E30_STA_ADJUSTER_BODY_0
J2_BODY_B=HUB_L
J2_POS=0.08244, 0.0, -0.1

J3=R_E30_STA_J3
J3_BODY_A=R_E30_STA_ADJUSTER_BODY_0
J3_BODY_B=HUB_L
J3_POS=0.08244, -0.1, 0.1
J3_KP=0

;E30 Rear Adjusters

;BODIES

BODY_0_NAME=R_E30_STA_ADJUSTER_BODY_0
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.19662, 0.02500, 0.30959
BODY_0_MIRROR=1

BODY_1_NAME=R_E30_STA_ADJUSTER_BODY_1
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.19662, 0.02500, 0.37959
BODY_1_MIRROR=1

;CAMBER

SLIDER_0=R_E30_STA_ADJUSTER_SLIDER
SLIDER_0_BODY_A=R_E30_STA_ADJUSTER_BODY_1
SLIDER_0_BODY_B=R_E30_STA_ADJUSTER_BODY_0
SLIDER_0_POS_A=0.19662, -0.07500, 0.30959
SLIDER_0_POS_B=0.19662, 0.02500, 0.30959
SLIDER_0_PARITY=-1

DJ0=R_E30_STA_ADJUSTER_CAMBER_JOINT
DJ0_BODY_A=R_E30_STA_ADJUSTER_BODY_1
DJ0_BODY_B=R_E30_STA_ADJUSTER_BODY_0
DJ0_POS_A=0.19662, -0.07500, 0.30959
DJ0_POS_B=0.19662, 0.02500, 0.30959

;TOE

DJ1=R_E30_STA_ADJUSTER_TOE_JOINT
DJ1_BODY_A=R_E30_STA_ADJUSTER_BODY_1
DJ1_BODY_B=R_E30_STA_ADJUSTER_BODY_0
DJ1_POS_A=0.19662, 0.02500, 0.20959
DJ1_POS_B=0.19662, 0.02500, 0.30959

;RCH

DJ2=R_E30_STA_OUT_RCH_JOINT_0
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=R_E30_STA_ADJUSTER_BODY_1
DJ2_POS_A=0.19662, -0.07500, 0.37959
DJ2_POS_B=0.19662, 0.02500, 0.37959

DJ3=R_E30_STA_OUT_RCH_JOINT_1
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=R_E30_STA_ADJUSTER_BODY_1
DJ3_POS_A=0.19662, 0.02500, 0.47959
DJ3_POS_B=0.19662, 0.02500, 0.37959

DJ4=R_E30_STA_OUT_RCH_JOINT_1
DJ4_BODY_A=CHASSIS
DJ4_BODY_B=R_E30_STA_ADJUSTER_BODY_1
DJ4_POS_A=0.09662, 0.02500, 0.37959
DJ4_POS_B=0.19662, 0.02500, 0.37959

TOE_OUT=0.00000 ;0.09 YKHM -0.045 DNLP
STATIC_CAMBER=-1.91 ;-4.00 YKHM -2.25 DNLP (-2.50)
DJ0_LENGTH_OFFSET=-0.01601 ;Arm Camber
DJ1_LENGTH_OFFSET=0.00331 ;Outer Toe
DJ2_LENGTH_OFFSET=0.01000 ;Outer RCH
;110L, Driver, DTM

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=2400
PRELOAD=-0.062
;(DTM -0.054 @ wheel, -0.062 @ damper)

BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0.24000, 0.42000, 0.02000
POS_B=0.22074, 0.04914, -0.06422

MIN_LENGTH=0.24532
MAX_LENGTH=0.39882
BUMPSTOP_GAP=0.107

;DAMPER_TRAVEL = 0.080, 0.0735
;PACKER_HEIGHT = 0.015
;BUMPSTOP_GAP = 0.065 + 0.042 = 0.107
;DAMPER_LENGTH = 0.36732 - 0.042 = 0.32532

;E30 M3 GrA 80/73.5 -36 (-42)

;E30 M3 GrA Special "stop buffer" 33-52-2-226-090 H=0.015

INSTALL_RATE=28400000
RATE=160000
;120N/mm main-spring
HELPER_RATE=50000
;N/m of helper spring - new for 0.2.2 - does not work with spring lut at this time (spring lut acts in parallel with linear springs, not in series)
HELPER_TRAVEL=0.040 ;0.060 L
;m of deflection at which helper compresses fully - new for 0.2.2

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.010
SUSP_LF=-0.010
WHEEL_RF=0.010
SUSP_RF=0.010
WHEEL_LR=-0.005
SUSP_LR=-0.005
WHEEL_RR=0.005
SUSP_RR=0.005

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1