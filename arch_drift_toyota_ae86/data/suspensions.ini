[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.400
CG_LOCATION=0.600
;0.5500 with 50l fuel
;0.5435 with 50l fuel and driver

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=14474
REAR_MOTION_RATIO=1.0
REAR=1555
;F ARB diameter = 21.0 - 26.0
;F ARB MR = 0.667^2
;F ARB WIDTH	= 662 / 723
;F ARB LEVER	= 214 / 275
;F ARB DIAGONAL	= 311 (241) / 414 (318)

;R ARB diameter = 14.0 - 20.0
;R ARB MR = 0.688^2
;R ARB WIDTH	= 680
;R ARB LEVER	= 285
;R ARB DIAGONAL	= 412 (340)

[FRONT]
TYPE=COSMIC
BASEY=-0.250
TRACK=1.449
;1.355 ET27
;1.373 ET18
;+0.040 from NCRCA
HUB_MASS=33.9
;33.912 GT-APEX
;35.612 GTV
RIM_OFFSET=-0.003
;ET27 Standard 5.0JX13 ET27 4X114.3
;ET18 Optional 6.0JX14 ET18 4X114.3

;AE86 Front Drift Geo

;Rack spacers +30deg

;NCRCA X +0.0250 from RCA width (Except strut bottom)
;NCRCA X -0.0050 from LBJ offset due to bolt-on angle (Except strut bottom)
;NCRCA TRACK = +0.040
;10.73deg vs 8.82deg = -1.91 camber

;RCA DELTAS = +0.0200, -0.0320, +0.0021

;High
;PS + NCRCA
;STEER_JOINT_0_POS_A=0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B=-0.014, 0.000, +0.016

;Low
;PS + NCRCA
;STEER_JOINT_0_POS_A=0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B=-0.020, 0.000, +0.019


DJ0=F_AE86_LCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.39492, -0.00987, 0.3500
DJ0_POS_B=0.12316, -0.11423, 0.0096

DJ1=F_AE86_LCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.40538, -0.03492, 0.0100
DJ1_POS_B=0.12316, -0.11423, 0.0096
DJ1_KP=0

STEER_JOINT_0=F_AE86_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.4200, -0.0310, -0.0750 ;High
STEER_JOINT_0_POS_A_1=0.4200, -0.0310, -0.0750 ;Low

STEER_JOINT_0_POS_B=0.1335, -0.1070, -0.0894 ;High
STEER_JOINT_0_POS_B_1=0.1275, -0.1070, -0.0864 ;Low

DJ2=F_AE86_STRUT_TOP
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_AE86_STRUT_BODY
DJ2_POS_A=0.37542, 1.53206, -0.09850
DJ2_POS_B=0.22236, 0.54596, -0.0338

DJ3=F_AE86_STRUT_CAMBER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=F_AE86_STRUT_BODY
DJ3_POS_A=1.21053, 0.39259, -0.0338
DJ3_POS_B=0.22236, 0.54596, -0.0338

DJ4=F_AE86_STRUT_CASTER
DJ4_BODY_A=CHASSIS
DJ4_BODY_B=F_AE86_STRUT_BODY
DJ4_POS_A=0.22236, 0.61144, 0.96405
DJ4_POS_B=0.22236, 0.54596, -0.0338
DJ4_KP=1

;SIM STUFF

BODY_0_NAME=F_AE86_STRUT_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.22236, 0.54596, -0.0338
BODY_0_MIRROR=1

SLIDER_0=F_AE86_STRUT_SLIDER
SLIDER_0_BODY_A=F_AE86_STRUT_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.22236, 0.54596, -0.0338
SLIDER_0_POS_B=0.11176, -0.03775, 0.0045
SLIDER_0_PARITY=-1

TOE_OUT=0.00000 ;-0.00
STATIC_CAMBER=-1.61 ;-4.00
DJ3_LENGTH_OFFSET=-0.01601 ;Strut Camber
DJ1_LENGTH_OFFSET=0.00000 ;LCA R Camber
STEER_JOINT_0_LENGTH_OFFSET=0.00041 ;Steer Toe
DJ4_LENGTH_OFFSET=0.00501 ;Strut Caster
DJ0_LENGTH_OFFSET=0.00000 ;LCA F Caster
;30L, Driver, Drift

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=2850
PRELOAD=-0.027
;(Drift -0.030 @ wheel, -0.027 @ damper)

BODY_A=F_AE86_STRUT_BODY
BODY_B=HUB_L
POS_A=0.22236, 0.54596, -0.0338
POS_B=0.11176, -0.03775, 0.0045

MIN_LENGTH=0.46734
MAX_LENGTH=0.62334
BUMPSTOP_GAP=0.088 

;DAMPER_TRAVEL = 0.101, 0.055
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.061 + 0.027 = 0.088 
;DAMPER_LENGTH = 0.59534 - 0.027 = 0.56834

;48331-12080 H=50mm?

;HTS112F 101/55 -30

INSTALL_RATE=16670000
RATE=78480
;8

[REAR]
TYPE=COSMIC
BASEY=-0.250
TRACK=1.399
;1.345 ET27
;1.363 ET18
HUB_MASS=22.9
;112.0385 GT-APEX
;115.4385 GTV
;(112.0385 / 2) = 56.01925
;56.01925 - (66.2585 / 2) = 22.89
RIM_OFFSET=-0.003
;ET27 Standard 5.0JX13 ET27 4X114.3
;ET18 Optional 6.0JX14 ET18 4X114.3

;AE86 Rear Geo

DJ0=R_AE86_UCA_LR
DJ0_BODY_A=CHASSIS_REAR_0
DJ0_BODY_B=R_AE86_AXLE
DJ0_POS_A=0.42951, 0.10886, 0.21682
DJ0_POS_B=0.43050, 0.08748, -0.05420
DJ0_PARITY=0

DJ1=R_AE86_LCA
DJ1_BODY_A=CHASSIS_REAR_0
DJ1_BODY_B=R_AE86_LCA_AXLE_PICKUP
DJ1_POS_A=0.23009, -0.03652, 0.47245
DJ1_POS_B=0.18398, -0.075745, 0.00607

DJ2=R_AE86_PANHARD
DJ2_BODY_A=R_AE86_PANHARD_CHASSIS_PICKUP
DJ2_BODY_B=R_AE86_PANHARD_AXLE_PICKUP
DJ2_POS_A=1.13423, 0.04836, -0.16513
DJ2_POS_B=0.34134, 0.01127, -0.10698
DJ2_PARITY=0

;AE86 Rear Panhard Adjusters

BODY_0_NAME=R_AE86_PANHARD_AXLE_PICKUP
BODY_0_MASS=1
BODY_0_INERTIA=1, 0.1, 0.1
BODY_0_POS=0.34134, 0.01127, -0.10698

SLIDER_0=R_AE86_PANHARD_AXLE_SLIDER
SLIDER_0_BODY_A=R_AE86_AXLE
SLIDER_0_BODY_B=R_AE86_PANHARD_AXLE_PICKUP
SLIDER_0_POS_A=0.34134, -0.08873, -0.10698
SLIDER_0_POS_B=0.34134, 0.01127, -0.10698
SLIDER_0_PARITY=0

DJ3=R_AE86_PANHARD_AXLE_ADJUSTER
DJ3_BODY_A=R_AE86_AXLE
DJ3_BODY_B=R_AE86_PANHARD_AXLE_PICKUP
DJ3_POS_A=0.34134, -0.08873, -0.10698
DJ3_POS_B=0.34134, 0.01127, -0.10698
DJ3_PARITY=0

BODY_1_NAME=R_AE86_PANHARD_CHASSIS_PICKUP
BODY_1_MASS=1
BODY_1_INERTIA=1, 0.1, 0.1
BODY_1_POS=1.13423, 0.04836, -0.16513

SLIDER_1=R_AE86_PANHARD_CHASSIS_SLIDER
SLIDER_1_BODY_A=CHASSIS_REAR_0
SLIDER_1_BODY_B=R_AE86_PANHARD_CHASSIS_PICKUP
SLIDER_1_POS_A=1.13423, -0.05164, -0.16513
SLIDER_1_POS_B=1.13423, 0.04836, -0.16513
SLIDER_1_PARITY=0

DJ4=R_AE86_PANHARD_CHASSIS_ADJUSTER
DJ4_BODY_A=CHASSIS_REAR_0
DJ4_BODY_B=R_AE86_PANHARD_CHASSIS_PICKUP
DJ4_POS_A=1.13423, -0.05164, -0.16513
DJ4_POS_B=1.13423, 0.04836, -0.16513
DJ4_PARITY=0

;AE86 Rear LCA Adjusters

BODY_2_NAME=R_AE86_LCA_AXLE_PICKUP
BODY_2_MASS=1
BODY_2_INERTIA=1, 0.1, 0.1
BODY_2_POS=0.18398, -0.075745, 0.00607

SLIDER_2=R_AE86_LCA_AXLE_SLIDER
SLIDER_2_BODY_A=R_AE86_AXLE
SLIDER_2_BODY_B=R_AE86_LCA_AXLE_PICKUP
SLIDER_2_POS_A=0.18398, -0.175745, 0.00607
SLIDER_2_POS_B=0.18398, -0.075745, 0.00607

DJ5=R_AE86_LCA_AXLE_ADJUSTER
DJ5_BODY_A=R_AE86_AXLE
DJ5_BODY_B=R_AE86_LCA_AXLE_PICKUP
DJ5_POS_A=0.18398, -0.175745, 0.00607
DJ5_POS_B=0.18398, -0.075745, 0.00607

;AE86 Rear Sim Stuff

J0=R_AE86_AXLE_J0
J0_BODY_A=R_AE86_AXLE
J0_BODY_B=HUB_L
J0_POS=0.027, 0.1, 0.1
J0_KP=1

J1=R_AE86_AXLE_J1
J1_BODY_A=R_AE86_AXLE
J1_BODY_B=HUB_L
J1_POS=0.027, -0.1, 0.1
J1_KP=0

STEER_JOINT_0=R_AE86_AXLE_TOE
STEER_JOINT_0_BODY_A=R_AE86_AXLE
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.69950, 0.00000, 0.00000
STEER_JOINT_0_POS_B=0.027, 0.0, -0.1

BODY_3_NAME=R_AE86_AXLE
BODY_3_MASS=66.3
BODY_3_INERTIA=1, 0.1, 0.1
BODY_3_POS=0.69950, 0.00000, 0.00000

BODY_4_NAME=CHASSIS_REAR_0
BODY_4_MASS=328.0
;1000 - ((33.9 * 2) + (22.9 * 2) + (66.3 * 1))) * (1 - 0.600)
BODY_4_INERTIA=1.182, 1.275, 3.902
BODY_4_CARPOS=0, 0, 0
BODY_4_USE_FOR_ARB=1

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS
HJ0_BODY_B=CHASSIS_REAR_0
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

ENGINE_TORQUE_BODY=R_AE86_AXLE

TOE_OUT=0.00015
STATIC_CAMBER=0.01
DJ2_LENGTH_OFFSET=-0.00101 ;Panhard Length
DJ3_LENGTH_OFFSET=0.00001 ;Panhard Axle Height
DJ4_LENGTH_OFFSET=0.00001 ;Panhard Chassis Height
DJ1_LENGTH_OFFSET=0.00101 ;LCA Length
DJ5_LENGTH_OFFSET=-0.03001 ;LCA Axle Height
;30L, Driver, Drift

[REAR_COILOVER_0] ;CORNER SPRING
PULL_FORCE=0
PRELOAD_FORCE=1810
PRELOAD=-0.030
;(Drift -0.030 @ wheel, -0.030 @ damper)

BODY_A=CHASSIS_REAR_0
BODY_B=R_AE86_AXLE
POS_A=0.26112, 0.27529, 0.03419
POS_B=0.23367, 0.05328, 0.00000

MIN_LENGTH=0.086298
MAX_LENGTH=1.226298
BUMPSTOP_GAP=0.100

;HARDSTOP_UP = 0.140
;BUMPSTOP_HEIGHT = 0.040
;HARDSTOP_GAP = 0.060
;SPRING_LENGTH = 0.226298
;48306-12050 H=80mm?

;Hardstop 140/- -0

INSTALL_RATE=16670000
RATE=58860
;6

[REAR_COILOVER_1] ;CORNER DAMPER
ELECT_LOG=CORNER
BODY_A=CHASSIS_REAR_0
BODY_B=R_AE86_AXLE
POS_A=0.24497, 0.39881, -0.11208
POS_B=0.13275, -0.09849, -0.11208

MIN_LENGTH=0.358304
MAX_LENGTH=0.539804
BUMPSTOP_GAP=0.1115

;DAMPER_TRAVEL = 0.1215, 0.060
;CUSHION_HEIGHT = 0.040
;CUSHION_GAP = 0.0815 + 0.030 = 0.1115
;DAMPER_LENGTH = 0.509804 - 0.030 = 0.479804

;90948-01003 H=20mm? + 90948-01018 H=20mm?

;HTS112R 121.5/60 -30

RATE=0

[REAR_SPRING_0] ;R_AE86_UCA_RR SPRING
BODY_A=CHASSIS_REAR_0
BODY_B=R_AE86_AXLE
POS_A=0.42951, 0.10886, 0.21682
POS_B=0.43050, 0.08748, -0.05420

RATE=4000000
PULL_FORCE=1
PARITY=1

[REAR_DAMPER_0] ;R_AE86_UCA_RR DAMPER
BODY_A=CHASSIS_REAR_0
BODY_B=R_AE86_AXLE
POS0=0.42951, 0.10886, 0.21682
POS1=0.43050, 0.08748, -0.05420

DAMP_BUMP=16285
DAMP_REBOUND=16285
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=1

[REAR_TORSION_0] ;X TORSION SPRING
RATE=5500
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_1] ;X TORSION DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR_0
POS_A=	-0.301, 1, 1.440
POS_B=	-0.301, 0, 1.440

DAMP_BUMP=10167
DAMP_REBOUND=10167
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.050
SUSP_LF=-0.050
WHEEL_RF=0.050
SUSP_RF=0.050
WHEEL_LR=-0.050
SUSP_LR=-0.050
WHEEL_RR=0.050
SUSP_RR=0.050

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1