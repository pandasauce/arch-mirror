[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.570
CG_LOCATION=0.562
;JDM Toyota 86 1276kg, 55.8% with full tank
;USDM Scion FR-S 1200kg, 56.9% no spare/tools/mats, minimal gas
;Driver 0.7% rearward

[ARB]
FRONT=32984
REAR=4796
;F ARB diameter = 18.0 OD 
;F ARB MR = 0.920^2
;F ARB WIDTH	= 902
;F ARB LEVER	= 125
;F ARB DIAGONAL	= 182 (142)

;R ARB diameter = 14.0 OD
;R ARB MR = 0.597^2
;R ARB WIDTH	= 1177
;R ARB LEVER	= 126
;R ARB DIAGONAL	= 162 (149)

[FRONT]
TYPE=COSMIC
BASEY=-0.190
TRACK=1.616
;1.520 ET48
HUB_MASS=48.6
RIM_OFFSET=0.048

;ZN6 Front Geo

DJ0=F_ZN6_LCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.38100, -0.11400, 0.30192
DJ0_POS_B=0.09462, -0.12269, 0.00800
DJ0_KP=0

DJ1=F_ZN6_LCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.40000, -0.12400, -0.04000
DJ1_POS_B=0.09462, -0.12269, 0.00800

J0=F_ZN6_STRUT_TOP
J0_BODY_A=CHASSIS
J0_BODY_B=F_ZN6_STRUT_BODY
J0_POS=0.24003, 0.40000, -0.04635
J0_KP=1

STEER_JOINT_0=F_ZN6_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.40000, -0.10250, -0.17000
STEER_JOINT_0_POS_B=0.10557, -0.09782, -0.13000

;SIM STUFF

BODY_0_NAME=F_ZN6_STRUT_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.24003, 0.40000, -0.04635
BODY_0_MIRROR=1

SLIDER_0=F_ZN6_STRUT_SLIDER
SLIDER_0_BODY_A=F_ZN6_STRUT_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.24003, 0.40000, -0.04635
SLIDER_0_POS_B=0.17269, 0.10693, 0.00000
SLIDER_0_PARITY=-1

TOE_OUT=0.00000 ;0.00
STATIC_CAMBER=0.01 ;0.00
STEER_JOINT_0_LENGTH_OFFSET=0.00001 ;Steer Toe
;50L, Driver

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3285
PRELOAD=0.000

BODY_A=F_ZN6_STRUT_BODY
BODY_B=HUB_L
POS_A=0.24003, 0.40000, -0.04635
POS_B=0.17269, 0.10693, 0.00000

MIN_LENGTH=0.23926
MAX_LENGTH=0.38926
BUMPSTOP_GAP=0.008

;DAMPER_TRAVEL = 0.065, 0.085
;PACKER_HEIGHT = 0.057
;BUMPSTOP_GAP = 0.008 + 0.000 = 0.008
;DAMPER_LENGTH = 0.30426 - 0.000 = 0.30426

INSTALL_RATE=530000
RATE=23000
;23000 86, GT86, FR-S
;27000 BRZ
;30000 Swift
;60069 KW Clubsport

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.000
PULL_FORCE=1

RATE=733
;F_ZN6_LCA_REAR 0.30913 m 70 Nm/rad 733 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.190
TRACK=1.636
;1.540 ET48
HUB_MASS=49.6
RIM_OFFSET=0.048

;ZN6 Rear Geo

DJ0=R_ZN6_UCA_FRONT
DJ0_BODY_A=CHASSIS_REAR_0
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.43900, 0.08480, 0.11385
DJ0_POS_B=0.18460, 0.09200, 0.06782

DJ1=R_ZN6_UCA_REAR
DJ1_BODY_A=CHASSIS_REAR_0
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.48300, 0.08560, -0.05000
DJ1_POS_B=0.18460, 0.09200, 0.06782
DJ1_KP=1

DJ2=R_ZN6_LCA_FRONT
DJ2_BODY_A=CHASSIS_REAR_0
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.25060, -0.08840, 0.35259
DJ2_POS_B=0.14580, -0.17080, 0.00891

J0=R_ZN6_LCA_REAR
J0_BODY_A=CHASSIS_REAR_0
J0_BODY_B=R_ZN6_LCA_REAR_BODY
J0_POS=0.59220, -0.09400, -0.11118

J1=R_ZN6_LCA_REAR_BJ
J1_BODY_A=R_ZN6_LCA_REAR_BODY
J1_BODY_B=HUB_L
J1_POS=0.14340, -0.11800, -0.06930
J1_KP=0

STEER_JOINT_0=R_ZN6_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR_0
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.43900, -0.05770, 0.19807
STEER_JOINT_0_POS_B=0.16900, -0.07920, 0.14454

;SIM STUFF

DJ3=R_ZN6_LCA_REAR_HOOKES
DJ3_BODY_A=CHASSIS_REAR_0
DJ3_BODY_B=R_ZN6_LCA_REAR_BODY
DJ3_POS_A=0.59220, -0.09400, -0.01118
DJ3_POS_B=0.59220, 0.00600, -0.11118

BODY_0_NAME=R_ZN6_LCA_REAR_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.36780, -0.10600, -0.09024
BODY_0_MIRROR=1

BODY_1_NAME=CHASSIS_REAR_0
BODY_1_MASS=244.8
;1314 - ((48.6 * 2) + (49.6 * 2))) * (1 - 0.562) / 2
BODY_1_INERTIA=1.300, 1.250, 3.950
BODY_1_CARPOS=0, 0, 0
BODY_1_USE_FOR_ARB=1

BODY_2_NAME=CHASSIS_REAR_1
BODY_2_MASS=244.8
BODY_2_INERTIA=1.300, 1.250, 3.950
BODY_2_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS_REAR_1
HJ0_BODY_B=CHASSIS_REAR_0
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

HJ1=PITCH_HINGE
HJ1_BODY_A=CHASSIS
HJ1_BODY_B=CHASSIS_REAR_1
HJ1_CARPOS_A=1, 0, 0
HJ1_CARPOS_B=-1, 0, 0

ENGINE_TORQUE_BODY=CHASSIS_REAR_0

TOE_OUT=0.00000 ;+0.16
STATIC_CAMBER=-1.21 ;-1.20
STEER_JOINT_0_LENGTH_OFFSET=-0.00051 ;Steer Toe
;50L, Driver

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3150
PRELOAD=0.000

BODY_A=CHASSIS_REAR_0
BODY_B=R_ZN6_LCA_REAR_BODY
POS_A=0.27780, 0.24640, -0.11237
POS_B=0.24460, -0.12560, -0.08613

MIN_LENGTH=0.30940
MAX_LENGTH=0.43940
BUMPSTOP_GAP=0.011

;DAMPER_TRAVEL = 0.065, 0.065
;PACKER_HEIGHT = 0.054
;BUMPSTOP_GAP = 0.011 + 0.000 = 0.011
;DAMPER_LENGTH = 0.37440 - 0.000 = 0.37440

INSTALL_RATE=440000
RATE=33000
;33000 86, GT86
;35000 BRZ
;37000 or 38000 FR-S
;45000 Swift
;70051 KW Clubsport

[REAR_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.000
PULL_FORCE=1

RATE=8868
;R_ZN6_UCA_FRONT 0.25440 m 100 Nm/rad 1545 N/m
;R_ZN6_UCA_REAR 0.29840 m 100 Nm/rad 1123 N/m
;R_ZN6_LCA_FRONT 0.27039 m 100 Nm/rad 1368 N/m
;R_ZN6_LCA_FRONT OUT 0.27039 m 120 Nm/rad 1641 N/m
;R_ZN6_LCA_REAR 0.45344 m 100 Nm/rad 486 N/m
;R_ZN6_LCA_REAR OUT 0.45344 m 120 Nm/rad 584 N/m
;R_ZN6_TOE 0.25511 m 100 Nm/rad 1537 N/m
;REAR_COILOVER_0 0.45344 m 120 Nm/rad 584 N/m

[REAR_TORSION_0] ;X TORSION SPRING
RATE=20000
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;X TORSION DAMPER
BODY_A=CHASSIS_REAR_1
BODY_B=CHASSIS_REAR_0
POS_A=	-0.230, 1, 1.444
POS_B=	-0.230, 0, 1.444

DAMP_BUMP=16749
DAMP_REBOUND=16749
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[REAR_TORSION_1] ;Y PITCH SPRING
RATE=200000
HINGE=PITCH_HINGE
PARITY=0

[REAR_DAMPER_1] ;Y PITCH DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR_1
POS_A=	0.770, 1, 2.444
POS_B=	0.770, 0, 2.444

DAMP_BUMP=52964
DAMP_REBOUND=52964
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=0.000
SUSP_LF=0.000
WHEEL_RF=-0.000
SUSP_RF=-0.000
WHEEL_LR=0.000
SUSP_LR=0.000
WHEEL_RR=-0.000
SUSP_RR=-0.000

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1