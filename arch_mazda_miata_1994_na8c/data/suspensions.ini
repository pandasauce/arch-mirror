[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.265
CG_LOCATION=0.540
;52.0% with one occupant and fuel
;51.5% with two occupants and fuel

[ARB]
FRONT=4017
REAR=2938
;F ARB diameter = 19.0 OD
;F ARB MR = 0.548^2
;F ARB WIDTH	= 822
;F ARB LEVER	= 235
;F ARB DIAGONAL	= 235

;R ARB diameter = 11.0 OD
;R ARB MR = 0.586^2
;R ARB WIDTH	= 813
;R ARB LEVER	= 122
;R ARB DIAGONAL	= 122

[FRONT]
TYPE=COSMIC
BASEY=-0.205
;NB 465mm~
TRACK=1.495
;NA 1.405 (ET45)
;NB 1.415 (ET40)
HUB_MASS=29.5
;29.5kg NA
RIM_OFFSET=0.045
;NA 0.045
;NB 0.040

;MX5 NA Front Geo

DJ0=F_MX5_NA_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.377350, 0.092104, 0.10089
DJ0_POS_B=0.135000, 0.136070, -0.01600

DJ1=F_MX5_NA_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.386075, 0.074891, -0.122853
DJ1_POS_B=0.135000, 0.136070, -0.016000
DJ1_KP=1

J0=F_MX5_NA_LCA_FRONT
J0_BODY_A=F_MX5_NA_FLCA_CAMBER_BODY
J0_BODY_B=F_MX5_NA_LCA_BODY
J0_POS=0.435603, -0.094582, -0.022964

J1=F_MX5_NA_LCA_REAR
J1_BODY_A=F_MX5_NA_RLCA_CASTER_BODY
J1_BODY_B=F_MX5_NA_LCA_BODY
J1_POS=0.435603, -0.094810, -0.357270

J2=F_MX5_NA_LCA_BJ
J2_BODY_A=F_MX5_NA_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.089577, -0.088713, 0.002803
J2_KP=0

STEER_JOINT_0=F_MX5_NA_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.435741, -0.075000, 0.070000
STEER_JOINT_0_POS_B=0.076817, -0.067408, 0.104900

;MX5 NA Front Adjusters

BODY_0_NAME=F_MX5_NA_FLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.435603, -0.094582, -0.022964
BODY_0_MIRROR=1

SLIDER_0=F_MX5_NA_FLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=F_MX5_NA_FLCA_CAMBER_BODY
SLIDER_0_POS_A=0.535603, -0.094582, -0.022964
SLIDER_0_POS_B=0.435603, -0.094582, -0.022964
SLIDER_0_PARITY=-1

DJ2=F_MX5_NA_FLCA_CAMBER_ADJUSTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_MX5_NA_FLCA_CAMBER_BODY
DJ2_POS_A=0.535603, -0.094582, -0.022964
DJ2_POS_B=0.435603, -0.094582, -0.022964

BODY_1_NAME=F_MX5_NA_RLCA_CASTER_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.435603, -0.094810, -0.357270
BODY_1_MIRROR=1

SLIDER_1=F_MX5_NA_RLCA_CASTER_SLIDER
SLIDER_1_BODY_A=CHASSIS
SLIDER_1_BODY_B=F_MX5_NA_RLCA_CASTER_BODY
SLIDER_1_POS_A=0.535603, -0.094810, -0.357270
SLIDER_1_POS_B=0.435603, -0.094810, -0.357270
SLIDER_1_PARITY=-1

DJ3=F_MX5_NA_RLCA_CASTER_ADJUSTER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=F_MX5_NA_RLCA_CASTER_BODY
DJ3_POS_A=0.535603, -0.094810, -0.357270
DJ3_POS_B=0.435603, -0.094810, -0.357270

;MX5 NA Front Sim Stuff

BODY_2_NAME=F_MX5_NA_LCA_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.26259, -0.09170, -0.09366
BODY_2_MIRROR=1

TOE_OUT=0.00000 ;+0.15
STATIC_CAMBER=0.41 ;+0.40
STEER_JOINT_0_LENGTH_OFFSET=-0.00031 ;Steer Toe
DJ2_LENGTH_OFFSET=0.00001 ;FLCA Camber
DJ3_LENGTH_OFFSET=0.00001 ;RLCA Caster
;48L

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3790
PRELOAD=-0.008
;Driver -0.011 @ wheel -0.008 @ damper

BODY_A=CHASSIS
BODY_B=F_MX5_NA_LCA_BODY
POS_A=0.257322, 0.284533, -0.040373
POS_B=0.196250, -0.060566, 0.004199

MIN_LENGTH=0.27528
MAX_LENGTH=0.38728
BUMPSTOP_GAP=0.015

;DAMPER_TRAVEL = 0.078, 0.034
;PACKER_HEIGHT = 0.063
;BUMPSTOP_GAP = 0.015 + 0.000 = 0.015
;DAMPER_LENGTH = 0.35328 - 0.000 = 0.35328

;NA6 H=0.050
;NA8 H=0.063
;NA OEM Showa 78/34 -0
;NA OEM Bilstein 79/34 -20
;NB OEM Showa 76/34 -0

INSTALL_RATE=340000
RATE=26885
;JDM cars
;NA6CE Red (Early MT?) = 27400 N/m
;NA AutoExe (Late MT?) = 27300 N/m
;NB8C AutoExe = 28400 N/m

;USDM cars
;90 - 93 MT = 28750 N/m
;94 MT = 26885 N/m
;90 - 94 AT = 26885 N/m
;93LE, 94 - 96 R = 26970 N/m
;97 R = 26794 N/m
;99 Stock = 28371 N/m
;99 Sport = 29421 N/m
;04 MSM = 37652 N/m

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0

RATE=1000
;Soft rubber = 200 N/m
;Stiff rubber = 250 N/m
;5x 200 N/m bushing = 1000 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.205
;NB 465mm~
TRACK=1.520
;NA 1.430 (ET45)
;NB 1.440 (ET40)
HUB_MASS=30.685
;30.685kg NA
RIM_OFFSET=0.045
;NA 0.045
;NB 0.040

;MX5 NA Rear Geo

DJ0=R_MX5_NA_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.374758, 0.113968, 0.122673
DJ0_POS_B=0.162835, 0.120697, 0.037450

DJ1=R_MX5_NA_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.374758, 0.113968, -0.048841
DJ1_POS_B=0.162835, 0.120697, 0.037450
DJ1_KP=1

J0=R_MX5_NA_LCA_FRONT
J0_BODY_A=R_MX5_NA_FLCA_CAMBER_BODY
J0_BODY_B=R_MX5_NA_LCA_BODY
J0_POS=0.510374, -0.066919, 0.161893

J1=R_MX5_NA_LCA_REAR
J1_BODY_A=R_MX5_NA_RLCA_TOE_BODY
J1_BODY_B=R_MX5_NA_LCA_BODY
J1_POS=0.510374, -0.066919, -0.161126

J2=R_MX5_NA_LCA_BJ
J2_BODY_A=R_MX5_NA_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.117716, -0.098374, 0.071319 ;0.000906
J2_KP=0

STEER_JOINT_0=R_MX5_NA_TOE
STEER_JOINT_0_BODY_A=R_MX5_NA_RLCA_TOE_BODY
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.510374, -0.066919, -0.161126
STEER_JOINT_0_POS_B=0.117716, -0.098374, -0.070413

;MX5 NA Rear Adjusters

BODY_0_NAME=R_MX5_NA_FLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.510374, -0.066919, 0.161893
BODY_0_MIRROR=1

SLIDER_0=R_MX5_NA_FLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=R_MX5_NA_FLCA_CAMBER_BODY
SLIDER_0_POS_A=0.610374, -0.066919, 0.161893
SLIDER_0_POS_B=0.510374, -0.066919, 0.161893
SLIDER_0_PARITY=-1

DJ2=R_MX5_NA_FLCA_CAMBER_ADJUSTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=R_MX5_NA_FLCA_CAMBER_BODY
DJ2_POS_A=0.610374, -0.066919, 0.161893
DJ2_POS_B=0.510374, -0.066919, 0.161893

BODY_1_NAME=R_MX5_NA_RLCA_TOE_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.510374, -0.066919, -0.161126
BODY_1_MIRROR=1

SLIDER_1=R_MX5_NA_RLCA_TOE_SLIDER
SLIDER_1_BODY_A=CHASSIS
SLIDER_1_BODY_B=R_MX5_NA_RLCA_TOE_BODY
SLIDER_1_POS_A=0.610374, -0.066919, -0.161126
SLIDER_1_POS_B=0.510374, -0.066919, -0.161126
SLIDER_1_PARITY=-1

DJ3=R_MX5_NA_RLCA_TOE_ADJUSTER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=R_MX5_NA_RLCA_TOE_BODY
DJ3_POS_A=0.610374, -0.066919, -0.161126
DJ3_POS_B=0.510374, -0.066919, -0.161126

;MX5 NA Rear Sim Stuff

BODY_2_NAME=R_MX5_NA_LCA_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.31405, -0.08265, 0.00064
BODY_2_MIRROR=1

TOE_OUT=0.00035 ;+0.15
STATIC_CAMBER=-0.71 ;-0.72
DJ2_LENGTH_OFFSET=0.00001 ;FLCA Camber
DJ3_LENGTH_OFFSET=0.00001 ;RLCA Toe
;48L

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3125
PRELOAD=-0.019
;Driver -0.022 @ wheel -0.019 @ damper

BODY_A=CHASSIS
BODY_B=R_MX5_NA_LCA_BODY
POS_A=0.276590, 0.262594, -0.052172
POS_B=0.200302, -0.092084, -0.051300

MIN_LENGTH=0.28179
MAX_LENGTH=0.41679
BUMPSTOP_GAP=0.018

;DAMPER_TRAVEL = 0.081, 0.054
;PACKER_HEIGHT = 0.063
;BUMPSTOP_GAP = 0.018 + 0.000 = 0.018
;DAMPER_LENGTH = 0.36279 - 0.000 = 0.36279

;NA6 H=0.050
;NA8 H=0.063
;NA OEM Showa 81/54 -0
;NA OEM Bilstein 77/54 -15
;NB OEM Showa 81/54 -0

INSTALL_RATE=340000
RATE=16977
;JDM cars
;NA6CE Yellow (Late AT and MT) = 16500 N/m
;NA AutoExe (Late MT?) = 16500 N/m
;NA8C = 16500 N/m
;NB8C AutoExe = 21600 N/m

;USDM cars
;90 - 94 MT = 16977 N/m
;90 - 94 AT = 16380 N/m
;93LE, 94-96 R = 16462 N/m
;97 R = 18388 N/m
;99 Stock = 20665 N/m
;99 Sport = 22766 N/m
;04 MSM = 27670 N/m

[REAR_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0

RATE=1600
;Soft rubber = 200 N/m
;Stiff rubber = 250 N/m
;8x 200 N/m bushing = 1600 N/m

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.000
SUSP_LF=-0.000
WHEEL_RF=0.000
SUSP_RF=0.000
WHEEL_LR=-0.000
SUSP_LR=-0.000
WHEEL_RR=0.000
SUSP_RR=0.000

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1