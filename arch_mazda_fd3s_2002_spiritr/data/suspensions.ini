[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.425
CG_LOCATION=0.505
;2002 Mazda RX-7 Spirit R
;Actual weight distribution 48.8:51.2
;Actual weight 1313kg 
;(including shooting equipment appox. 25kg, gasoline, etc)
;Driver 1.0% rearward

[ARB]
FRONT=19282
REAR=8941
;F ARB diameter = 28.6 OD 16.4 ID Kouki
;F ARB MR = 0.484^2
;F ARB WIDTH	= 765
;F ARB LEVER	= 205
;F ARB DIAGONAL	= 255

;R ARB diameter = 15.9 OD 11.8 ID Kouki
;R ARB MR = 0.765^2
;R ARB WIDTH	= 995
;R ARB LEVER	= 142 (137)
;R ARB DIAGONAL	= 146 (141)

[FRONT]
TYPE=COSMIC
BASEY=-0.170
TRACK=1.560
;1.460 ET50
HUB_MASS=37
RIM_OFFSET=0.050

;FD3S Front Geo

DJ0=F_FD3S_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.34687, 0.12337, 0.09000
DJ0_POS_B=0.16664, 0.14680, -0.02900

DJ1=F_FD3S_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.33882, 0.10917, -0.11000
DJ1_POS_B=0.16664, 0.14680, -0.02900
DJ1_KP=1

J0=F_FD3S_LCA_FRONT
J0_BODY_A=F_FD3S_FLCA_CAMBER_BODY
J0_BODY_B=F_FD3S_LCA_BODY
J0_POS=0.38316, -0.11990, -0.02000

J1=F_FD3S_LCA_REAR
J1_BODY_A=F_FD3S_RLCA_CASTER_BODY
J1_BODY_B=F_FD3S_LCA_BODY
J1_POS=0.38316, -0.09990, -0.30000

J2=F_FD3S_LCA_BJ
J2_BODY_A=F_FD3S_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.10509, -0.10151, 0.00000
J2_KP=0

STEER_JOINT_0=F_FD3S_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.41000, -0.10600, 0.08000
STEER_JOINT_0_POS_B=0.10500, -0.09000, 0.15000

;FD3S Front Adjusters

BODY_0_NAME=F_FD3S_FLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.38316, -0.11990, -0.02000
BODY_0_MIRROR=1

SLIDER_0=F_FD3S_FLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=F_FD3S_FLCA_CAMBER_BODY
SLIDER_0_POS_A=0.48316, -0.11990, -0.02000
SLIDER_0_POS_B=0.38316, -0.11990, -0.02000
SLIDER_0_PARITY=-1

DJ2=F_FD3S_FLCA_CAMBER_ADJUSTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_FD3S_FLCA_CAMBER_BODY
DJ2_POS_A=0.48316, -0.11990, -0.02000
DJ2_POS_B=0.38316, -0.11990, -0.02000

BODY_1_NAME=F_FD3S_RLCA_CASTER_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.38316, -0.09990, -0.30000
BODY_1_MIRROR=1

SLIDER_1=F_FD3S_RLCA_CASTER_SLIDER
SLIDER_1_BODY_A=CHASSIS
SLIDER_1_BODY_B=F_FD3S_RLCA_CASTER_BODY
SLIDER_1_POS_A=0.48316, -0.09990, -0.30000
SLIDER_1_POS_B=0.38316, -0.09990, -0.30000
SLIDER_1_PARITY=-1

DJ3=F_FD3S_RLCA_CASTER_ADJUSTER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=F_FD3S_RLCA_CASTER_BODY
DJ3_POS_A=0.48316, -0.09990, -0.30000
DJ3_POS_B=0.38316, -0.09990, -0.30000

;FD3S Front Sim Stuff

BODY_2_NAME=F_FD3S_LCA_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.24413, -0.10571, -0.08000
BODY_2_MIRROR=1

TOE_OUT=0.00000 ;+0.10
STATIC_CAMBER=-0.11 ;-0.10
STEER_JOINT_0_LENGTH_OFFSET=-0.00021 ;Steer Toe
DJ2_LENGTH_OFFSET=0.00001 ;FLCA Camber
DJ3_LENGTH_OFFSET=0.00001 ;RLCA Caster
;76L

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.097 ;0.097, 0.094
;Driver -0.005 @ wheel -0.003 @ damper

BODY_A=CHASSIS
BODY_B=F_FD3S_LCA_BODY
POS_A=0.30270, 0.42261, -0.01000
POS_B=0.20050, -0.06703, 0.00000

MIN_LENGTH=0.46529
MAX_LENGTH=0.53029
BUMPSTOP_GAP=0.012

;DAMPER_TRAVEL = 0.075, 0.030
;PACKER_HEIGHT = 0.063
;BUMPSTOP_GAP = 0.012 + 0.000 = 0.012
;DAMPER_LENGTH = 0.50029 - 0.000 = 0.50029

INSTALL_RATE=550000
RATE=47100
;46058.4 USDM Standard
;47100 JDM Standard, Spirit R?
;49148.1 R1
;48461.4 R2

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0

RATE=800
;Soft rubber = 200 N/m
;Stiff rubber = 250 N/m
;4x 200 N/m bushing = 800 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.170
TRACK=1.560
;1.460 ET50
HUB_MASS=37
RIM_OFFSET=0.050

;FD3S Rear Geo

J0=R_FD3S_UCA_FRONT
J0_BODY_A=CHASSIS_REAR
J0_BODY_B=R_FD3S_UCA_BODY
J0_POS=0.35340, 0.12674, 0.08000

J1=R_FD3S_UCA_REAR
J1_BODY_A=CHASSIS_REAR
J1_BODY_B=R_FD3S_UCA_BODY
J1_POS=0.39340, 0.14074, -0.08000

J2=R_FD3S_UCA_BJ
J2_BODY_A=R_FD3S_UCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.15369, 0.14219, -0.04000
J2_KP=1

DJ0=R_FD3S_LCA_FRONT
DJ0_BODY_A=CHASSIS_REAR
DJ0_BODY_B=R_FD3S_LCA_REAR_BODY
DJ0_POS_A=0.24980, -0.07777, 0.40000
DJ0_POS_B=0.17184, -0.11425, -0.06250

J3=R_FD3S_LCA_REAR
J3_BODY_A=R_FD3S_RLCA_CAMBER_BODY
J3_BODY_B=R_FD3S_LCA_REAR_BODY
J3_POS=0.42926, -0.10782, -0.07000

J4=R_FD3S_LCA_REAR_BJ
J4_BODY_A=R_FD3S_LCA_REAR_BODY
J4_BODY_B=HUB_L
J4_POS=0.07957, -0.11445, -0.06000
J4_KP=0

STEER_JOINT_0=R_FD3S_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.30933, 0.01046, 0.2200
STEER_JOINT_0_POS_B=0.09791, 0.01257, 0.1600

;FD3S Rear Adjusters

BODY_0_NAME=R_FD3S_RLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.42926, -0.10782, -0.07000
BODY_0_MIRROR=1

SLIDER_0=R_FD3S_RLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS_REAR
SLIDER_0_BODY_B=R_FD3S_RLCA_CAMBER_BODY
SLIDER_0_POS_A=0.52926, -0.10782, -0.07000
SLIDER_0_POS_B=0.42926, -0.10782, -0.07000
SLIDER_0_PARITY=-1

DJ1=R_FD3S_RLCA_CAMBER_ADJUSTER
DJ1_BODY_A=CHASSIS_REAR
DJ1_BODY_B=R_FD3S_RLCA_CAMBER_BODY
DJ1_POS_A=0.52926, -0.10782, -0.07000
DJ1_POS_B=0.42926, -0.10782, -0.07000

;FD3S Rear Sim Stuff

DJ2=R_FD3S_LCA_REAR_HOOKES
DJ2_BODY_A=R_FD3S_RLCA_CAMBER_BODY
DJ2_BODY_B=R_FD3S_LCA_REAR_BODY
DJ2_POS_A=0.42926, -0.00782, -0.07000
DJ2_POS_B=0.42926, -0.10782, 0.03000

BODY_1_NAME=R_FD3S_UCA_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.26355, 0.13797, -0.02000
BODY_1_MIRROR=1

BODY_2_NAME=R_FD3S_LCA_REAR_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.25442, -0.11114, -0.06500
BODY_2_MIRROR=1

BODY_3_NAME=CHASSIS_REAR
BODY_3_MASS=567.27
;1306 - ((37 * 2) + (37 * 2) + (1 * 12))) * (1 - 0.505)
BODY_3_INERTIA=1.274, 1.109, 4.013
BODY_3_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS
HJ0_BODY_B=CHASSIS_REAR
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

ENGINE_TORQUE_BODY=CHASSIS_REAR

TOE_OUT=0.00000 ;+0.10
STATIC_CAMBER=-1.21 ;-1.20
STEER_JOINT_0_LENGTH_OFFSET=-0.00041 ;Steer Toe
DJ1_LENGTH_OFFSET=0.00001 ;RLCA Camber
;76L

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.130 ;0.130, 0.118
;Driver -0.015 @ wheel @ -0.012 @ damper

BODY_A=CHASSIS_REAR
BODY_B=R_FD3S_UCA_BODY
POS_A=0.31298, 0.56245, -0.01000
POS_B=0.21120, 0.12290, -0.03000

MIN_LENGTH=0.37162
MAX_LENGTH=0.50162
BUMPSTOP_GAP=0.017

;DAMPER_TRAVEL = 0.080, 0.050
;PACKER_HEIGHT = 0.063
;BUMPSTOP_GAP = 0.017 + 0.000 = 0.017
;DAMPER_LENGTH = 0.45162 - 0.000 = 0.45162

INSTALL_RATE=550000
RATE=35200
;34149.7 USDM Standard
;35200 JDM Standard, R1, R2, Spirit R?

[REAR_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS_REAR
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0

RATE=800
;Soft rubber = 200 N/m
;Stiff rubber = 250 N/m
;4x 200 N/m bushing = 800 N/m

[REAR_TORSION_0] ;TORSION SPRING
RATE=15000
PRELOAD=0
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;TORSION DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR
POS_A=0, 1, 0
POS_B=0, 0, 0

DAMP_BUMP=10000
DAMP_FAST_BUMP=10000
DAMP_FAST_BUMPTHRESHOLD=1
DAMP_REBOUND=10000
DAMP_FAST_REBOUND=10000
DAMP_FAST_REBOUNDTHRESHOLD=1
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.005
SUSP_LF=-0.005
WHEEL_RF=0.005
SUSP_RF=0.005
WHEEL_LR=-0.015
SUSP_LR=-0.015
WHEEL_RR=0.015
SUSP_RR=0.015

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1