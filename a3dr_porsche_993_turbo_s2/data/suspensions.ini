[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.272
CG_LOCATION=0.360

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=49486
REAR_MOTION_RATIO=1.0
REAR=104857

;F ARB diameter = 22.0 OD 15.0 ID TT M030
;F ARB MR = 0.940^2
;F ARB WIDTH	= 591 / 703
;F ARB LEVER	= 181 / 102 - 150, 5
;F ARB DIAGONAL	= 219 / 188 - 227, 5

;R ARB diameter = 21.0 OD RUF 1
;R ARB MR = 0.937^2
;R ARB WIDTH	= 719 / 828
;R ARB LEVER	= 142 / 84 - 110, 3
;R ARB DIAGONAL	= 203 (193) / 126 - 151 (116 - 141), 3

[FRONT]
TYPE=COSMIC
BASEY=-0.190
TRACK=1.515
;1.405 ET55
HUB_MASS=51.5
RIM_OFFSET=0.033
;ET50 + 0.017 spacer

;993 RS Front Geo

J0=F_993_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=F_993_LCA_BODY_IN
J0_POS=0.43247, -0.12667, 0.30400

J1=F_993_LCA_REAR
J1_BODY_A=CHASSIS
J1_BODY_B=F_993_LCA_BODY_IN
J1_POS=0.43247, -0.12667, -0.02100

J2=F_993_LCA_BJ
J2_BODY_A=F_993_LCA_BODY_OUT
J2_BODY_B=HUB_L
J2_POS=0.10947, -0.15903, 0.02900
J2_KP=0

STEER_JOINT_0=F_993_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.45083, -0.11100, -0.09200
STEER_JOINT_0_POS_B=0.14523, -0.13808, -0.10600

DJ0=F_993_STRUT_TOP
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=F_993_STRUT_BODY
DJ0_POS_A=0.66227, 1.36099, 0.08184
DJ0_POS_B=0.30580, 0.42504, -0.02200

DJ1=F_993_STRUT_CAMBER
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=F_993_STRUT_BODY
DJ1_POS_A=1.26684, 0.08674, -0.02200
DJ1_POS_B=0.30580, 0.42504, -0.02200

DJ2=F_993_STRUT_CASTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_993_STRUT_BODY
DJ2_POS_A=0.32580, 0.31477, 0.97190
DJ2_POS_B=0.30580, 0.42504, -0.02200
DJ2_KP=1

;ADJUSTERS

BODY_0_NAME=F_993_LCA_BODY_IN
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.10947, -0.15903, 0.02900
BODY_0_MIRROR=1

BODY_1_NAME=F_993_LCA_BODY_OUT
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.10947, -0.15903, 0.02900
BODY_1_MIRROR=1

SLIDER_0=F_993_LCA_CASTER_SLIDER
SLIDER_0_BODY_A=F_993_LCA_BODY_IN
SLIDER_0_BODY_B=F_993_LCA_BODY_OUT
SLIDER_0_POS_A=0.10947, -0.15903, -0.07100
SLIDER_0_POS_B=0.10947, -0.15903, 0.02900
SLIDER_0_PARITY=-1

DJ3=F_993_LCA_CASTER_ADJUSTER
DJ3_BODY_A=F_993_LCA_BODY_IN
DJ3_BODY_B=F_993_LCA_BODY_OUT
DJ3_POS_A=0.10947, -0.15903, -0.07100
DJ3_POS_B=0.10947, -0.15903, 0.02900

;SIM STUFF

BODY_2_NAME=F_993_STRUT_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.30580, 0.42504, -0.02200
BODY_2_MIRROR=1

SLIDER_1=F_993_STRUT_SLIDER
SLIDER_1_BODY_A=F_993_STRUT_BODY
SLIDER_1_BODY_B=HUB_L
SLIDER_1_POS_A=0.30580, 0.42504, -0.02200
SLIDER_1_POS_B=0.17027, -0.00759, -0.07000
SLIDER_1_PARITY=-1

TOE_OUT=0.00000 ;+0.05
STATIC_CAMBER=-0.71 ;-3.00
STEER_JOINT_0_LENGTH_OFFSET=-0.00041 ;Steer Toe
DJ1_LENGTH_OFFSET=-0.01501 ;Strut Camber
DJ3_LENGTH_OFFSET=0.00001 ;LCA Caster
;74L, RUF, Driver

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=2820
PRELOAD=-0.030
;(RUF -0.030 @ wheel -0.030 @ damper)

BODY_A=F_993_STRUT_BODY
BODY_B=HUB_L
POS_A=0.30580, 0.42504, -0.02200
POS_B=0.17027, -0.00759, -0.07000

MIN_LENGTH=0.34190
MAX_LENGTH=0.48590
BUMPSTOP_GAP=0.036

;DAMPER_TRAVEL = 0.084, 0.060
;PACKER_HEIGHT = 0.078
;BUMPSTOP_GAP = 0.006 + 0.030 = 0.036
;DAMPER_LENGTH = 0.45590 - 0.030 = 0.42590

INSTALL_RATE=1450000
RATE=40000
;40000 PSS10
HELPER_RATE=45000
;N/m of helper spring - new for 0.2.2 - does not work with spring lut at this time (spring lut acts in parallel with linear springs, not in series)
HELPER_TRAVEL=0.040 ;0.060 L
;m of deflection at which helper compresses fully - new for 0.2.2

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.030
PULL_FORCE=1

RATE=6453
;F_993_LCA_FRONT 0.32300 m 133 Nm/rad 1275 N/m
;F_993_LCA_REAR 0.32300 m 166 Nm/rad 1591 N/m
;F_ARB 0.18100 m 133 Nm/rad 4060*0.940^2 3587 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.190
TRACK=1.584
;1.444 ET70
HUB_MASS=52.3
RIM_OFFSET=0.038
;ET66 + 0.028 spacer

;993 Rear Geo

DJ0=R_993_UCA_FRONT
DJ0_BODY_A=R_993_FUCA_CAMBER_BODY
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.36900, 0.11419, 0.09000
DJ0_POS_B=0.09707, 0.13184, 0.04000
DJ0_KP=1

DJ1=R_993_UCA_REAR
DJ1_BODY_A=R_993_RUCA_CAMBER_BODY
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.34251, 0.06121, -0.14000
DJ1_POS_B=0.09295, 0.08829, -0.05000

DJ2=R_993_LCA_FRONT
DJ2_BODY_A=CHASSIS_REAR_0
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.40844, -0.04885, 0.29000
DJ2_POS_B=0.11120, -0.11301, 0.08000
DJ2_KP=0

;DJ3=R_993_LCA_REAR
;DJ3_BODY_A=CHASSIS_REAR_0
;DJ3_BODY_B=HUB_L
;DJ3_POS_A=0.38195, -0.13891, -0.03000
;DJ3_POS_B=0.11120, -0.11301, 0.08000

STEER_JOINT_0=R_993_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR_0
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.51732, -0.11850, -0.17000
STEER_JOINT_0_POS_B=0.18772, -0.12279, -0.14000

;ADJUSTERS

BODY_0_NAME=R_993_FUCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.36900, 0.11419, 0.09000
BODY_0_MIRROR=1

SLIDER_0=R_993_FUCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS_REAR_0
SLIDER_0_BODY_B=R_993_FUCA_CAMBER_BODY
SLIDER_0_POS_A=0.46900, 0.11419, 0.09000
SLIDER_0_POS_B=0.36900, 0.11419, 0.09000
SLIDER_0_PARITY=-1

DJ3=R_993_FUCA_CAMBER_ADJUSTER
DJ3_BODY_A=CHASSIS_REAR_0
DJ3_BODY_B=R_993_FUCA_CAMBER_BODY
DJ3_POS_A=0.46900, 0.11419, 0.09000
DJ3_POS_B=0.36900, 0.11419, 0.09000

BODY_1_NAME=R_993_RUCA_CAMBER_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.34251, 0.06121, -0.14000
BODY_1_MIRROR=1

SLIDER_1=R_993_RUCA_CAMBER_SLIDER
SLIDER_1_BODY_A=CHASSIS_REAR_0
SLIDER_1_BODY_B=R_993_RUCA_CAMBER_BODY
SLIDER_1_POS_A=0.44251, 0.06121, -0.14000
SLIDER_1_POS_B=0.34251, 0.06121, -0.14000
SLIDER_1_PARITY=-1

DJ4=R_993_RUCA_CAMBER_ADJUSTER
DJ4_BODY_A=CHASSIS_REAR_0
DJ4_BODY_B=R_993_RUCA_CAMBER_BODY
DJ4_POS_A=0.44251, 0.06121, -0.14000
DJ4_POS_B=0.34251, 0.06121, -0.14000

;SIM STUFF

BODY_2_NAME=CHASSIS_REAR_0
BODY_2_MASS=401.1
;1461 - ((51.5 * 2) + (52.3 * 2))) * (1 - 0.360) / 2
BODY_2_INERTIA=1.450, 1.300, 4.000
BODY_2_CARPOS=0, 0, 0
BODY_2_USE_FOR_ARB=1

BODY_3_NAME=CHASSIS_REAR_1
BODY_3_MASS=401.1
BODY_3_INERTIA=1.450, 1.300, 4.000
BODY_3_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS_REAR_1
HJ0_BODY_B=CHASSIS_REAR_0
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

HJ1=PITCH_HINGE
HJ1_BODY_A=CHASSIS
HJ1_BODY_B=CHASSIS_REAR_1
HJ1_CARPOS_A=1, 0, 0
HJ1_CARPOS_B=-1, 0, 0

ENGINE_TORQUE_BODY=CHASSIS_REAR_0

TOE_OUT=0.00100 ;+0.25
STATIC_CAMBER=-0.91 ;-2.50
DJ3_LENGTH_OFFSET=-0.00401 ;FUCA Camber
DJ4_LENGTH_OFFSET=-0.00351 ;RUCA Camber
;74L, RUF, Driver

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=4330
PRELOAD=-0.019
;(RUF -0.020 @ wheel -0.019 @ damper)

BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0.33898, 0.30371, -0.07000
POS_B=0.20420, -0.13184, -0.06000

MIN_LENGTH=0.35554
MAX_LENGTH=0.51904
BUMPSTOP_GAP=0.049

;DAMPER_TRAVEL = 0.0835, 0.080
;PACKER_HEIGHT = 0.0535
;BUMPSTOP_GAP = 0.030 + 0.019 = 0.049
;DAMPER_LENGTH = 0.45604 - 0.019 = 0.43904

INSTALL_RATE=2010000
RATE=70000
;70000 PSS10
HELPER_RATE=100000
;N/m of helper spring - new for 0.2.2 - does not work with spring lut at this time (spring lut acts in parallel with linear springs, not in series)
HELPER_TRAVEL=0.054 ;0.080 L
;m of deflection at which helper compresses fully - new for 0.2.2

[REAR_SPRING_0] ;R_993_LCA_REAR SPRING
BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0.38195, -0.13891, -0.03000
POS_B=0.11120, -0.11301, 0.08000

RATE=4062500
PULL_FORCE=1

[REAR_DAMPER_0] ;R_993_LCA_REAR DAMPER
BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0.38195, -0.13891, -0.03000
POS_B=0.11120, -0.11301, 0.08000

DAMP_BUMP=14152
DAMP_REBOUND=14152
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99

[REAR_SPRING_1] ;BUSHING SPRING
BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.020
PULL_FORCE=1

RATE=14805
;R_993_UCA_FRONT 0.27705 m 133 Nm/rad 1733 N/m
;R_993_UCA_REAR 0.26667 m 166 Nm/rad 2334 N/m
;R_993_LCA_FRONT 0.36955 m 133 Nm/rad 974 N/m
;R_993_LCA_REAR 0.29339 m 133 Nm/rad 1545 N/m
;R_993_TOE 0.33099 m 133 Nm/rad 1214 N/m
;REAR_COILOVER_0 0.33099 m 133 Nm/rad 1214 N/m
;R_ARB 0.14200 m 133 Nm/rad 6596*0.937^2 5791 N/m

[REAR_TORSION_0] ;X TORSION SPRING
RATE=13876
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_1] ;X TORSION DAMPER
BODY_A=CHASSIS_REAR_1
BODY_B=CHASSIS_REAR_0
POS_A=	-0.208, 1, 0.886
POS_B=	-0.208, 0, 0.886

DAMP_BUMP=17857
DAMP_REBOUND=17857
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[REAR_TORSION_1] ;Y PITCH SPRING
RATE=138760
HINGE=PITCH_HINGE
PARITY=0

[REAR_DAMPER_2] ;Y PITCH DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR_1
POS_A=	0.792, 1, 1.886
POS_B=	0.792, 0, 1.886

DAMP_BUMP=56470
DAMP_REBOUND=56470
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.000
SUSP_LF=-0.000
WHEEL_RF=0.000
SUSP_RF=0.000
WHEEL_LR=-0.000
SUSP_LR=-0.000
WHEEL_RR=0.000
SUSP_RR=0.000

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1