[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.272
CG_LOCATION=0.370

[ARB]
FRONT=42129
REAR=48879

;F ARB diameter = 22.0 OD 15.0 ID TT M030
;F ARB MR = 0.933^2
;F ARB Droplink angle = ACF included
;F ARB dimension X = 181
;F ARB dimension Y = 591
;F ARB dimension Z = 219

;R ARB diameter = 20.0 OD ROW M030
;R ARB MR = 0.937^2
;R ARB Droplink angle = ACF included
;R ARB dimension X = 142
;R ARB dimension Y = 719
;R ARB dimension Z = 193

[FRONT]
TYPE=COSMIC
BASEY=-0.190
TRACK=1.515
;1.405 ET55
HUB_MASS=45.5
RIM_OFFSET=0.055

;993 Front Geo

DJ0=F_993_LCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.42947, -0.12667, 0.30500
DJ0_POS_B=0.10640, -0.12903, 0.02800

DJ1=F_993_LCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.42947, -0.12667, -0.02000
DJ1_POS_B=0.10640, -0.12903, 0.02800
DJ1_KP=0

STEER_JOINT_0=F_993_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.44731, -0.10400, -0.09530
STEER_JOINT_0_POS_B=0.13612, -0.09108, -0.06000

J0=F_993_STRUT_TOP
J0_BODY_A=CHASSIS
J0_BODY_B=F_993_STRUT_BODY
J0_POS=0.30247, 0.42504, -0.02100
J0_KP=1

;993 Front Sim Stuff

BODY_0_NAME=F_993_STRUT_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.30247, 0.42504, -0.02100
BODY_0_MIRROR=1

SLIDER_0=F_993_STRUT_SLIDER
SLIDER_0_BODY_A=F_993_STRUT_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.30247, 0.42504, -0.02100
SLIDER_0_POS_B=0.16712, -0.00759, -0.10000
SLIDER_0_PARITY=-1

TOE_OUT=0.00000 ;+0.08
STATIC_CAMBER=0.01 ;-0.33
STEER_JOINT_0_LENGTH_OFFSET=0.00041 ;Steer Toe
;74L, M030

[FRONT_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.080 ;0.096, 0.080 
;(M030 -0.010 @ wheel -0.010 @ damper)
;Driver -0.006 @ wheel -0.006 @ damper
;-0.016 @ wheel -0.016 @ damper TOTAL

BODY_A=F_993_STRUT_BODY
BODY_B=HUB_L
POS_A=0.30247, 0.42504, -0.02100
POS_B=0.16712, -0.00759, -0.10000

MIN_LENGTH=0.36614
MAX_LENGTH=0.51014
BUMPSTOP_GAP=0.016

;DAMPER_TRAVEL = 0.084, 0.060
;PACKER_HEIGHT = 0.078
;BUMPSTOP_GAP = 0.006 + 0.010 = 0.016
;DAMPER_LENGTH = 0.46014 - 0.010 = 0.45014

INSTALL_RATE=550000
RATE=29000
;25500 ROW C2/C4
;29000 ROW TT/M030
;43000 ROW RS

[FRONT_SPRING_0] ;Slide bushings
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0

RATE=400
;Soft rubber = 200 N/m
;Stiff rubber = 500 N/m
;2x 200 N/m bushing = 400 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.190
TRACK=1.584
;1.444 ET70
HUB_MASS=48.7
RIM_OFFSET=0.070

;993 Rear Geo

DJ0=R_993_UCA_FRONT
DJ0_BODY_A=R_993_FUCA_PICKUP
DJ0_BODY_B=HUB_L
DJ0_POS0=0.36900, 0.11419, 0.09000
DJ0_POS1=0.09707, 0.13184, 0.04000
DJ0_KP=1

DJ1=R_993_UCA_REAR
DJ1_BODY_A=R_993_RUCA_PICKUP
DJ1_BODY_B=HUB_L
DJ1_POS0=0.34251, 0.06121, -0.14000
DJ1_POS1=0.09295, 0.08829, -0.05000

DJ2=R_993_LCA_FRONT
DJ2_BODY_A=CHASSIS_REAR
DJ2_BODY_B=HUB_L
DJ2_POS0=0.40844, -0.04885, 0.29000
DJ2_POS1=0.11120, -0.11301, 0.08000

DJ3=R_993_LCA_REAR
DJ3_BODY_A=CHASSIS_REAR
DJ3_BODY_B=HUB_L
DJ3_POS0=0.38195, -0.13891, -0.03000
DJ3_POS1=0.11120, -0.11301, 0.08000
DJ3_KP=0

STEER_JOINT_0=R_993_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS0=0.51732, -0.11850, -0.17000
STEER_JOINT_0_POS1=0.18772, -0.12279, -0.14000

;993 Rear Adjusters

BODY_1_NAME=R_993_FUCA_PICKUP
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.36900, 0.11419, 0.09000
BODY_1_MIRROR=1

SLIDER_0=R_993_FUCA_SLIDER
SLIDER_0_BODY_A=CHASSIS_REAR
SLIDER_0_BODY_B=R_993_FUCA_PICKUP
SLIDER_0_POS_A=0.46900, 0.11419, 0.09000
SLIDER_0_POS_B=0.36900, 0.11419, 0.09000
SLIDER_0_PARITY=-1

DJ4=R_993_FUCA_ADJUSTER
DJ4_BODY_A=CHASSIS_REAR
DJ4_BODY_B=R_993_FUCA_PICKUP
DJ4_POS_A=0.46900, 0.11419, 0.09000
DJ4_POS_B=0.36900, 0.11419, 0.09000

BODY_2_NAME=R_993_RUCA_PICKUP
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.34251, 0.06121, -0.14000
BODY_2_MIRROR=1

SLIDER_1=R_993_RUCA_SLIDER
SLIDER_1_BODY_A=CHASSIS_REAR
SLIDER_1_BODY_B=R_993_RUCA_PICKUP
SLIDER_1_POS_A=0.44251, 0.06121, -0.14000
SLIDER_1_POS_B=0.34251, 0.06121, -0.14000
SLIDER_1_PARITY=-1

DJ5=R_993_RUCA_ADJUSTER
DJ5_BODY_A=CHASSIS_REAR
DJ5_BODY_B=R_993_RUCA_PICKUP
DJ5_POS_A=0.44251, 0.06121, -0.14000
DJ5_POS_B=0.34251, 0.06121, -0.14000

;993 Rear Sim Stuff

BODY_0_NAME=CHASSIS_REAR
BODY_0_MASS=775.278
;1425 - ((45.5 * 2) + (48.7 * 2) + (1 * 6)))  * (1 - 0.370)
BODY_0_INERTIA=1.150, 1.300, 3.950
BODY_0_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS
HJ0_BODY_B=CHASSIS_REAR
HJ0_CARPOS0=0, 0, 1
HJ0_CARPOS1=0, 0, -1

ENGINE_TORQUE_BODY=CHASSIS_REAR

TOE_OUT=0.00030 ;+0.17
STATIC_CAMBER=-0.91 ;-1.17
DJ4_LENGTH_OFFSET=0.00101 ;FUCA Camber
DJ5_LENGTH_OFFSET=0.00101 ;RUCA Camber
;74L, M030

[REAR_COILOVER_0] ;Corner spring
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.064 ;0.088, 0.064
;(M030 -0.020 @ wheel -0.019 @ damper)
;Driver -0.005 @ wheel -0.005 @ damper
;-0.025 @ wheel -0.024 @ damper TOTAL

BODY_A=CHASSIS_REAR
BODY_B=HUB_L
POS0=0.33898, 0.30371, -0.07000
POS1=0.20420, -0.13184, -0.06000

MIN_LENGTH=0.35354
MAX_LENGTH=0.50404
BUMPSTOP_GAP=0.049

;DAMPER_TRAVEL = 0.0835, 0.067
;PACKER_HEIGHT = 0.0535
;BUMPSTOP_GAP = 0.030 + 0.019 = 0.049
;DAMPER_LENGTH = 0.45604 - 0.019 = 0.43704

INSTALL_RATE=550000
RATE=50000
;38000 ROW C2/C4
;50000 ROW M030
;55000 ROW TT
;80000 ROW RS

[REAR_SPRING_0] ;Slide bushings
BODY_A=CHASSIS_REAR
BODY_B=HUB_L
POS0=0, 1, 0
POS1=0, 0, 0

RATE=1800
;Soft rubber = 200 N/m
;Stiff rubber = 500 N/m
;9x 200 N/m bushing = 1800 N/m

[REAR_TORSION_0]
RATE=13900
PRELOAD=0
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;Torsion damper
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR
POS0=0, 1, 0
POS1=0, 0, 0
DAMP_BUMP=10000
DAMP_FAST_BUMP=10000
DAMP_FAST_BUMPTHRESHOLD=1
DAMP_REBOUND=10000
DAMP_FAST_REBOUND=10000
DAMP_FAST_REBOUNDTHRESHOLD=1
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.000
SUSP_LF=-0.000
WHEEL_RF=0.000
SUSP_RF=0.000
WHEEL_LR=-0.000
SUSP_LR=-0.000
WHEEL_RR=0.000
SUSP_RR=0.000

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1