[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.720
CG_LOCATION=0.550
;S550 Convertible 53.0%
;S550 Coupe 54.0%

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=60537
REAR_MOTION_RATIO=1.0
REAR=23409
;F ARB diameter = 32.0 - 35.0
;F ARB MR = 0.960^2
;F ARB WIDTH	= 797 / 797
;F ARB LEVER	= 298 / 282, 308, 334
;F ARB DIAGONAL	= 418 (360) /  414, 432, 451 (338, 356, 375)

;R ARB diameter = 21.7 - 25.0
;R ARB MR = 0.638^2
;R ARB WIDTH	= 1100 / 1100
;R ARB LEVER	= 216 / 164, 182, 200
;R ARB DIAGONAL	= 289 (246) / 189, 209, 229 (180, 200, 220)

[FRONT]
TYPE=COSMIC
BASEY=-0.225
TRACK=1.662
HUB_MASS=55.0
RIM_OFFSET=0.022 ;0.045

;S550 Front Drift Geo

DJ0=F_S550_LCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.42892, -0.06657, 0.27602
DJ0_POS_B=0.08500, -0.19500, 0.03000

DJ1=F_S550_LCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.40695, -0.12863, -0.06211
DJ1_POS_B=0.08500, -0.19500, 0.03000
DJ1_KP=0

STEER_JOINT_0=F_S550_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.43000, -0.07400, 0.10000
STEER_JOINT_0_POS_B=0.07600, -0.14500, 0.10700

DJ2=F_S550_STRUT_TOP
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_S550_STRUT_BODY
DJ2_POS_A=0.3837, 1.5278, -0.2537
DJ2_POS_B=0.22106, 0.50632, -0.09047

DJ3=F_S550_STRUT_CAMBER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=F_S550_STRUT_BODY
DJ3_POS_A=1.2633, 0.4345, -0.0575
DJ3_POS_B=0.22106, 0.50632, -0.09047

DJ4=F_S550_STRUT_CASTER
DJ4_BODY_A=CHASSIS
DJ4_BODY_B=F_S550_STRUT_BODY
DJ4_POS_A=0.27, 0.7274, 0.9066
DJ4_POS_B=0.22106, 0.50632, -0.09047
DJ4_KP=1

;SIM STUFF

BODY_0_NAME=F_S550_STRUT_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.22106, 0.50632, -0.09047
BODY_0_MIRROR=1

SLIDER_0=F_S550_STRUT_SLIDER
SLIDER_0_BODY_A=F_S550_STRUT_BODY
SLIDER_0_BODY_B=HUB_L
SLIDER_0_POS_A=0.22106, 0.50632, -0.09047
SLIDER_0_POS_B=0.18586, 0.02754, -0.02422
SLIDER_0_PARITY=-1

TOE_OUT=0.00000 ;-0.05
STATIC_CAMBER=-0.71 ;-6.80
DJ3_LENGTH_OFFSET=0.01001 ;Strut Camber
DJ0_LENGTH_OFFSET=0.07501 ;LCA Camber
DJ1_LENGTH_OFFSET=0.07501 ;LCA Camber
STEER_JOINT_0_LENGTH_OFFSET=0.07681 ;Steer Toe
DJ4_LENGTH_OFFSET=-0.01001 ;Strut Caster
;30L, Drift, Driver

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=5750
PRELOAD=-0.019
;(Drift -0.020 @ wheel, -0.019 @ spring)

BODY_A=F_S550_STRUT_BODY
BODY_B=HUB_L
POS_A=0.22106, 0.50632, -0.09047
POS_B=0.18586, 0.02754, -0.02422

MIN_LENGTH=0.39562
MAX_LENGTH=0.49562
BUMPSTOP_GAP=0.049

;DAMPER_TRAVEL = 0.070, 0.030
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.030 + 0.019 = 0.049
;DAMPER_LENGTH = 0.48462 - 0.019 = 0.46562

INSTALL_RATE=16670000
RATE=78480
;8

[REAR]
TYPE=COSMIC
BASEY=-0.225
TRACK=1.728
HUB_MASS=58.0
RIM_OFFSET=0.035 ;0.0525

;S550 Rear Geo
;Inboard Y +0.04000 from design
;TOE Inboard Y +0.03500 from design

DJ0=R_S550_UCA
DJ0_BODY_A=CHASSIS_REAR_0
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.47237, 0.06434, 0.03799
DJ0_POS_B=0.19970, 0.08719, 0.05005
DJ0_KP=1

J0=R_S550_LCA_FRONT
J0_BODY_A=CHASSIS_REAR_0
J0_BODY_B=R_S550_LCA_BODY
J0_POS=0.41927, -0.05742, 0.13867

J1=R_S550_LCA_REAR
J1_BODY_A=R_S550_RLCA_PICKUP
J1_BODY_B=R_S550_LCA_BODY
J1_POS=0.54923, -0.09742, -0.12155

J2=R_S550_LCA_BJ
J2_BODY_A=R_S550_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.14873, -0.09292, -0.09614
J2_KP=0

DJ1=R_S550_INTEGRAL
DJ1_BODY_A=HUB_L
DJ1_BODY_B=R_S550_LCA_BODY
DJ1_POS_A=0.11423, 0.10111, 0.09290
DJ1_POS_B=0.11923, -0.06242, 0.13289

STEER_JOINT_0=R_S550_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR_0
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.44794, -0.13912, 0.10685
STEER_JOINT_0_POS_B=0.16938, -0.15496, 0.07688

;SIM STUFF

BODY_0_NAME=R_S550_LCA_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.30912, -0.07755, 0.01347
BODY_0_MIRROR=1

BODY_1_NAME=CHASSIS_REAR_0
BODY_1_MASS=332.8
;1705 - ((55.0 * 2) + (58.0 * 2))) * (1 - 0.550) / 2
BODY_1_INERTIA=1.450, 1.350, 4.450
BODY_1_CARPOS=0, 0, 0
BODY_1_USE_FOR_ARB=1

BODY_2_NAME=CHASSIS_REAR_1
BODY_2_MASS=332.8
BODY_2_INERTIA=1.450, 1.350, 4.450
BODY_2_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS_REAR_1
HJ0_BODY_B=CHASSIS_REAR_0
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

HJ1=PITCH_HINGE
HJ1_BODY_A=CHASSIS
HJ1_BODY_B=CHASSIS_REAR_1
HJ1_CARPOS_A=1, 0, 0
HJ1_CARPOS_B=-1, 0, 0

ENGINE_TORQUE_BODY=CHASSIS_REAR_0

TOE_OUT=0.00000 ;+0.10
STATIC_CAMBER=-1.21 ;-1.00
DJ0_LENGTH_OFFSET=0.00401 ;UCA Camber
STEER_JOINT_0_LENGTH_OFFSET=-0.00171 ;Steer Toe
;30L, Drift, Driver

[REAR_COILOVER_0] ;CORNER SPRING
;ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=6200
PRELOAD=-0.022
;(Drift -0.040 @ wheel, -0.022 @ spring)

BODY_A=CHASSIS_REAR_0
BODY_B=R_S550_LCA_BODY
POS_A=0.35310, 0.09031, -0.09757
POS_B=0.34304, -0.10722, -0.09757

MIN_LENGTH=0.09779
MAX_LENGTH=1.19779
BUMPSTOP_GAP=0.99

;HARDSTOP_UP = N/A
;BUMPSTOP_HEIGHT = N/A
;HARDSTOP_GAP = N/A
;SPRING_LENGTH = 0.19779

INSTALL_RATE=16670000
RATE=156960
;16

[REAR_COILOVER_1] ;CORNER DAMPER
ELECT_LOG=CORNER
BODY_A=CHASSIS_REAR_0
BODY_B=R_S550_LCA_BODY
POS_A=0.26128, 0.24047, -0.06127
POS_B=0.23410, -0.13542, -0.06294

MIN_LENGTH=0.26488
MAX_LENGTH=0.37488
BUMPSTOP_GAP=0.072

;DAMPER_TRAVEL = 0.080, 0.030
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.040 + 0.032 = 0.072
;DAMPER_LENGTH = 0.37688 - 0.032 = 0.34488

RATE=0

[REAR_TORSION_0] ;X TORSION SPRING
RATE=27510
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;X TORSION DAMPER
BODY_A=CHASSIS_REAR_1
BODY_B=CHASSIS_REAR_0
POS_A=	-0.136, 1, 1.496
POS_B=	-0.136, 0, 1.496

DAMP_BUMP=22903
DAMP_REBOUND=22903
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[REAR_TORSION_1] ;Y PITCH SPRING
RATE=275100
HINGE=PITCH_HINGE
PARITY=0

[REAR_DAMPER_1] ;Y PITCH DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR_1
POS_A=	0.864, 1, 2.496
POS_B=	0.864, 0, 2.496

DAMP_BUMP=72427
DAMP_REBOUND=72427
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.000
SUSP_LF=-0.000
WHEEL_RF=0.000
SUSP_RF=0.000
WHEEL_LR=-0.000
SUSP_LR=-0.000
WHEEL_RR=0.000
SUSP_RR=0.000

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1