[HEADER]
VERSION=4
;Laserscanned suspension geometry base
;Originally by Aad Hofman

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.550
CG_LOCATION=0.535
;BM 1993 RZ 54% no fuel?
;Random claim 51% with fuel?
;Driver 0.6% backwards

[ARB]
FRONT=26231
REAR=6799
;F ARB diameter = 30.0 OD 23.0 ID JZA80 RZ/GZ JZZ30 91-96
;F ARB MR = 0.734^2
;F ARB WIDTH	= 780
;F ARB LEVER	= 240
;F ARB DIAGONAL	= 410 (360)

;R ARB diameter = 21.0 OD 17.0 ID RZ/GZ JZA80
;R ARB MR = 0.528^2
;R ARB WIDTH	= 790
;R ARB LEVER	= 180
;R ARB DIAGONAL	= 260 (210)

[FRONT]
TYPE=COSMIC
BASEY=-0.220
TRACK=1.5986
;1.4986 ET50
HUB_MASS=58.1
RIM_OFFSET=0.050

;JZA80 Front Geo

DJ0=F_JZA80_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.33232, 0.10017, 0.09048
DJ0_POS_B=0.11985, 0.13418, -0.00476

DJ1=F_JZA80_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.33232, 0.08519, -0.10001
DJ1_POS_B=0.11985, 0.13418, -0.00476
DJ1_KP=1

J0=F_JZA80_LCA_FRONT
J0_BODY_A=F_JZA80_FLCA_CAMBER_BODY
J0_BODY_B=F_JZA80_LCA_BODY
J0_POS=0.42338, -0.12486, -0.01587

J1=F_JZA80_LCA_REAR
J1_BODY_A=F_JZA80_RLCA_CASTER_BODY
J1_BODY_B=F_JZA80_LCA_BODY
J1_POS=0.42338, -0.11978, -0.35083

J2=F_JZA80_LCA_BJ
J2_BODY_A=F_JZA80_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.07857, -0.11483, 0.01143
J2_KP=0

STEER_JOINT_0=F_JZA80_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.41195, -0.08149, 0.08890
STEER_JOINT_0_POS_B=0.06905, -0.06120, 0.14287

;JZA80 Front Adjusters

BODY_0_NAME=F_JZA80_FLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.42338, -0.12486, -0.01587
BODY_0_MIRROR=1

SLIDER_0=F_JZA80_FLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=F_JZA80_FLCA_CAMBER_BODY
SLIDER_0_POS_A=0.52338, -0.12486, -0.01587
SLIDER_0_POS_B=0.42338, -0.12486, -0.01587
SLIDER_0_PARITY=-1

DJ2=F_JZA80_FLCA_CAMBER_ADJUSTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_JZA80_FLCA_CAMBER_BODY
DJ2_POS_A=0.52338, -0.12486, -0.01587
DJ2_POS_B=0.42338, -0.12486, -0.01587

BODY_1_NAME=F_JZA80_RLCA_CASTER_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.42338, -0.11978, -0.35083
BODY_1_MIRROR=1

SLIDER_1=F_JZA80_RLCA_CASTER_SLIDER
SLIDER_1_BODY_A=CHASSIS
SLIDER_1_BODY_B=F_JZA80_RLCA_CASTER_BODY
SLIDER_1_POS_A=0.52338, -0.11978, -0.35083
SLIDER_1_POS_B=0.42338, -0.11978, -0.35083
SLIDER_1_PARITY=-1

DJ3=F_JZA80_RLCA_CASTER_ADJUSTER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=F_JZA80_RLCA_CASTER_BODY
DJ3_POS_A=0.52338, -0.11978, -0.35083
DJ3_POS_B=0.42338, -0.11978, -0.35083

;JZA80 Front Sim Stuff

BODY_2_NAME=F_JZA80_LCA_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.25098, -0.11858, -0.08596
BODY_2_MIRROR=1

TOE_OUT=0.00000 ;+0.00
STATIC_CAMBER=-0.51 ;-0.50
STEER_JOINT_0_LENGTH_OFFSET=0.00001 ;Steer Toe
DJ2_LENGTH_OFFSET=0.00001 ;FLCA Camber
DJ3_LENGTH_OFFSET=0.00001 ;RLCA Caster
;70L

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=5290
PRELOAD=-0.003
;Driver -0.005 @ wheel -0.003 @ damper

BODY_A=CHASSIS
BODY_B=F_JZA80_LCA_BODY
POS_A=0.38000, 0.40000, -0.00000
POS_B=0.19511, -0.06822, 0.00220
;AXIS 0.19511, -0.11822, 0.00220

MIN_LENGTH=0.41341
MAX_LENGTH=0.55341
BUMPSTOP_GAP=0.010

;DAMPER_TRAVEL = 0.090, 0.050
;PACKER_HEIGHT = 0.080
;BUMPSTOP_GAP = 0.010 + 0.000 = 0.010
;DAMPER_LENGTH = 0.50341 - 0.000 = 0.50341

INSTALL_RATE=340000
RATE=74556
;74556 7.60kg/mm Standard
;107910 11.00kg/mm TRD -0.015

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=-0.005

RATE=5625
;F_JZA80_UCA_FRONT 0.21247 m 70 Nm/rad 1551 N/m
;F_JZA80_UCA_REAR 0.21247 m 70 Nm/rad 1551 N/m
;F_JZA80_LCA_FRONT 0.34481 m 100 Nm/rad 841 N/m
;F_JZA80_LCA_REAR 0.34481 m 100 Nm/rad 841 N/m
;FRONT_COILOVER_0 0.34481 m 100 Nm/rad 841 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.220
TRACK=1.624
;1.524 ET50
HUB_MASS=54.9
RIM_OFFSET=0.050

;JZA80 Rear Geo

DJ0=R_JZA80_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.38020, 0.10424, 0.12700
DJ0_POS_B=0.12620, 0.14281, -0.01420

DJ1=R_JZA80_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.42306, 0.14234, -0.10312
DJ1_POS_B=0.12620, 0.14281, -0.01420
DJ1_KP=1

DJ2=R_JZA80_LCA_FRONT
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.31987, -0.06720, 0.31902
DJ2_POS_B=0.12143, -0.14500, -0.02857

J0=R_JZA80_LCA_REAR
J0_BODY_A=R_JZA80_RLCA_CAMBER_BODY
J0_BODY_B=R_JZA80_LCA_REAR_BODY
J0_POS=0.46275, -0.07787, -0.10477

J1=R_JZA80_LCA_REAR_BJ
J1_BODY_A=R_JZA80_LCA_REAR_BODY
J1_BODY_B=HUB_L
J1_POS=0.12620, -0.10054, -0.11000
J1_KP=0

STEER_JOINT_0=R_JZA80_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.34051, -0.06403, 0.13487
STEER_JOINT_0_POS_B=0.12620, -0.08450, 0.11125

;JZA80 Rear Adjusters

BODY_0_NAME=R_JZA80_RLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.46275, -0.07787, -0.10477
BODY_0_MIRROR=1

SLIDER_0=R_JZA80_RLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=R_JZA80_RLCA_CAMBER_BODY
SLIDER_0_POS_A=0.56275, -0.07787, -0.10477
SLIDER_0_POS_B=0.46275, -0.07787, -0.10477
SLIDER_0_PARITY=-1

DJ3=R_JZA80_RLCA_CAMBER_ADJUSTER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=R_JZA80_RLCA_CAMBER_BODY
DJ3_POS_A=0.56275, -0.07787, -0.10477
DJ3_POS_B=0.46275, -0.07787, -0.10477

;JZA80 Rear Sim Stuff

DJ4=R_JZA80_LCA_REAR_HOOKES
DJ4_BODY_A=R_JZA80_RLCA_CAMBER_BODY
DJ4_BODY_B=R_JZA80_LCA_REAR_BODY
DJ4_POS_A=0.46275, 0.02213, -0.10477
DJ4_POS_B=0.46275, -0.07787, -0.00477

BODY_1_NAME=R_JZA80_LCA_REAR_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.29447, -0.08920, -0.10738
BODY_1_MIRROR=1

TOE_OUT=0.00000 ;+0.14
STATIC_CAMBER=-1.51 ;-1.50
STEER_JOINT_0_LENGTH_OFFSET=-0.00051 ;Steer Toe
DJ3_LENGTH_OFFSET=0.00001 ;RLCA Camber
;70L

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3930
PRELOAD=-0.006
;Driver -0.007 @ wheel -0.006 @ damper

BODY_A=CHASSIS
BODY_B=R_JZA80_LCA_REAR_BODY
POS_A=0.35000, 0.37000, -0.10000
POS_B=0.18475, -0.10159, -0.10908
;AXIS 0.18475, -0.09659, -0.10908

MIN_LENGTH=0.39979
MAX_LENGTH=0.54979
BUMPSTOP_GAP=0.020

;DAMPER_TRAVEL = 0.100, 0.050
;PACKER_HEIGHT = 0.080
;BUMPSTOP_GAP = 0.020 + 0.000 = 0.020
;DAMPER_LENGTH = 0.49979 - 0.000 = 0.49979

INSTALL_RATE=340000
RATE=35316
;35316 3.60kg/mm JDM
;36297 3.70kg/mm USDM Standard
;38259 3.90kg/mm USDM TT
;92214 9.40kg/mm TRD -15mm

[REAR_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=-0.007

RATE=7250
;R_JZA80_UCA_FRONT 0.29316 m 70 Nm/rad 814 N/m
;R_JZA80_UCA_REAR 0.30989 m 70 Nm/rad 729 N/m
;R_JZA80_LCA_FRONT 0.40774 m 100 Nm/rad 601 N/m
;R_JZA80_LCA_FRONT OUT 0.40774 m 100 Nm/rad 601 N/m
;R_JZA80_LCA_REAR 0.33735 m 100 Nm/rad 879 N/m
;R_JZA80_LCA_REAR OUT 0.33735 m 70 Nm/rad 615 N/m
;R_JZA80_TOE 0.21658 m 100 Nm/rad 2132 N/m
;REAR_COILOVER_0 0.33735 m 100 Nm/rad 879 N/m

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.010
SUSP_LF=-0.010
WHEEL_RF=0.010
SUSP_RF=0.010
WHEEL_LR=-0.015
SUSP_LR=-0.015
WHEEL_RR=0.015
SUSP_RR=0.015

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1