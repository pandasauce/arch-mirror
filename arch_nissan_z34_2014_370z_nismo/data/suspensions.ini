[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.550
CG_LOCATION=0.560
;54% with no driver, full fuel
;53% with passengers, full fuel

[ARB]
FRONT=18159
REAR=26158
;F ARB diameter = 27.2 OD 16.6 ID NISMO
;F ARB MR = 0.544^2
;F ARB WIDTH = 812
;F ARB LEVER = 160
;F ARB DIAGONAL = 372 (283)

;R ARB diameter = 25.4 OD 18.4 ID NISMO
;R ARB MR = 0.591^2
;R ARB WIDTH = 889
;R ARB LEVER = 144
;R ARB DIAGONAL = 213 (144)

[FRONT]
TYPE=COSMIC
BASEY=-0.180
TRACK=1.635
;1.555 ET40
HUB_MASS=55
RIM_OFFSET=0.040
;ALLOY 8.0X18.0 ET43
;RAYS 9.0X19.0 ET47
;NISMO 9.5X19.0 ET40

;Z34 Front Geo

DJ0=F_Z34_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.35000, 0.40000, 0.12000
DJ0_POS_B=0.15250, 0.42000, -0.04400

DJ1=F_Z34_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.35000, 0.33000, -0.11000
DJ1_POS_B=0.15250, 0.42000, -0.04400
DJ1_KP=1

J0=F_Z34_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=F_Z34_LCA_BODY
J0_POS=0.42000, -0.12000, 0.02000

J1=F_Z34_LCA_REAR
J1_BODY_A=CHASSIS
J1_BODY_B=F_Z34_LCA_BODY
J1_POS=0.38000, -0.12000, -0.30000

J2=F_Z34_LCA_BJ
J2_BODY_A=F_Z34_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.08000, -0.12000, 0.00500
J2_KP=0

STEER_JOINT_0=F_Z34_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.39000, -0.10400, -0.14500
STEER_JOINT_0_POS_B=0.11000, -0.10000, -0.15500

;Z34 Front Sim Stuff

BODY_0_NAME=F_Z34_LCA_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.24000, -0.12000, -0.07000
BODY_0_MIRROR=1

TOE_OUT=0.00000 ;+0.17
STATIC_CAMBER=-0.71 ;-0.75
STEER_JOINT_0_LENGTH_OFFSET=0.00041 ;Steer Toe
;72L, NISMO

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.086 ;0.092, 0.086
;(NISMO -0.002 @ wheel, -0.001 @ damper)
;Driver -0.006 @ wheel
;-0.008 @ wheel, -0.006 @ damper TOTAL

BODY_A=CHASSIS
BODY_B=F_Z34_LCA_BODY
POS_A=0.37000, 0.48000, -0.04000
POS_B=0.22756, -0.12000, 0.01000

MIN_LENGTH=0.5577
MAX_LENGTH=0.6677
BUMPSTOP_GAP=0.021

;DAMPER_TRAVEL = 0.060, 0.050
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.020 + 0.001 = 0.021
;DAMPER_LENGTH = 0.6187 - 0.001 = 0.6177

INSTALL_RATE=550000
RATE=84337
;73550 N/m Standard
;84337 N/m NISMO

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0

RATE=1250
;Soft rubber = 200 N/m
;Stiff rubber = 250 N/m
;5x 250 N/m bushing = 1250 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.180
TRACK=1.626
;1.580 ET23
HUB_MASS=55
RIM_OFFSET=0.023
;ALLOY 9.0X18.0 ET15
;RAYS 10.0X19.0 ET30
;NISMO 10.5X19.0 ET23

;Z34 Rear Geo

DJ0=R_Z34_UCA_FRONT
DJ0_BODY_A=CHASSIS_REAR
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.39300, 0.11500, 0.13000
DJ0_POS_B=0.15300, 0.14000, 0.04000

DJ1=R_Z34_UCA_REAR
DJ1_BODY_A=CHASSIS_REAR
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.45300, 0.12000, -0.08000
DJ1_POS_B=0.15300, 0.14000, 0.04000
DJ1_KP=1

DJ2=R_Z34_LCA_FRONT
DJ2_BODY_A=CHASSIS_REAR
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.23300, -0.09000, 0.28000
DJ2_POS_B=0.14300, -0.14000, 0.06000

DJ3=R_Z34_LCA_REAR
DJ3_BODY_A=R_Z34_RLCA_CAMBER_BODY
DJ3_BODY_B=HUB_L
DJ3_POS_A=0.49300, -0.14300, 0.10000
DJ3_POS_B=0.15300, -0.17000, 0.09000
DJ3_KP=0

J0=R_Z34_STEER
J0_BODY_A=R_Z34_STEER_TOE_BODY
J0_BODY_B=R_Z34_STEER_BODY
J0_POS=0.61300, -0.05000, -0.17000

J1=R_Z34_STEER_BJ
J1_BODY_A=R_Z34_STEER_BODY
J1_BODY_B=HUB_L
J1_POS=0.14300, -0.05000, -0.15000

;Z34 Rear Adjusters

BODY_0_NAME=R_Z34_RLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.49300, -0.14300, 0.10000
BODY_0_MIRROR=1

SLIDER_0=R_Z34_RLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS_REAR
SLIDER_0_BODY_B=R_Z34_RLCA_CAMBER_BODY
SLIDER_0_POS_A=0.59300, -0.14300, 0.10000
SLIDER_0_POS_B=0.49300, -0.14300, 0.10000
SLIDER_0_PARITY=-1

DJ4=R_Z34_RLCA_CAMBER_ADJUSTER
DJ4_BODY_A=CHASSIS_REAR
DJ4_BODY_B=R_Z34_RLCA_CAMBER_BODY
DJ4_POS_A=0.59300, -0.14300, 0.10000
DJ4_POS_B=0.49300, -0.14300, 0.10000

BODY_1_NAME=R_Z34_STEER_TOE_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.61300, -0.05000, -0.17000
BODY_1_MIRROR=1

SLIDER_1=R_Z34_STEER_TOE_SLIDER
SLIDER_1_BODY_A=CHASSIS_REAR
SLIDER_1_BODY_B=R_Z34_STEER_TOE_BODY
SLIDER_1_POS_A=0.71300, -0.05000, -0.17000
SLIDER_1_POS_B=0.61300, -0.05000, -0.17000
SLIDER_1_PARITY=-1

DJ5=R_Z34_STEER_TOE_ADJUSTER
DJ5_BODY_A=CHASSIS_REAR
DJ5_BODY_B=R_Z34_STEER_TOE_BODY
DJ5_POS_A=0.71300, -0.05000, -0.17000
DJ5_POS_B=0.61300, -0.05000, -0.17000

;Z34 Rear Sim Stuff

DJ6=R_Z34_TOE_HOOKES
DJ6_BODY_A=CHASSIS_REAR
DJ6_BODY_B=R_Z34_STEER_BODY
DJ6_POS_A=0.61300, 0.05000, -0.17000
DJ6_POS_B=0.61300, -0.05000, -0.07000

BODY_2_NAME=R_Z34_STEER_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.37800, -0.05000, -0.16000
BODY_2_MIRROR=1

BODY_3_NAME=CHASSIS_REAR
BODY_3_MASS=575.52
;1536 - ((55 * 2) + (55 * 2) + (1 * 8)))  * (1 - 0.560)
BODY_3_INERTIA=1.350, 1.200, 4.100
BODY_3_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS
HJ0_BODY_B=CHASSIS_REAR
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

ENGINE_TORQUE_BODY=CHASSIS_REAR

TOE_OUT=0.00000 ;+0.15
STATIC_CAMBER=-1.71 ;-1.67
DJ4_LENGTH_OFFSET=-0.00151 ;RLCA Camber
DJ5_LENGTH_OFFSET=-0.00041 ;Steer Toe
;72L, NISMO

[REAR_COILOVER_0] ;CORNER SPRING
PULL_FORCE=0
PRELOAD_FORCE=0
PRELOAD=0.065 ;0.074, 0.065
;(NISMO -0.010 @ wheel, -0.005 @ spring)
;Driver -0.009 @ wheel
;-0.019 @ wheel, -0.009 @ spring TOTAL

BODY_A=CHASSIS_REAR
BODY_B=R_Z34_STEER_BODY
POS_A=0.39300, 0.12000, -0.16000
POS_B=0.38726, -0.10000, -0.16000

MIN_LENGTH=0.05
MAX_LENGTH=1.22008
BUMPSTOP_GAP=0.17

;HARDSTOP_UP =
;BUMPSTOP_HEIGHT =
;HARDSTOP_GAP =
;SPRING_LENGTH = 0.22008

INSTALL_RATE=550000
RATE=91202
;79434 N/m Standard
;91202 N/m NISMO

[REAR_COILOVER_1] ;CORNER DAMPER
ELECT_LOG=CORNER
BODY_A=CHASSIS_REAR
BODY_B=HUB_L
POS_A=0.32300, 0.48000, -0.03000
POS_B=0.27300, 0.05000, -0.02000

MIN_LENGTH=0.34301
MAX_LENGTH=0.49301
BUMPSTOP_GAP=0.050

;DAMPER_TRAVEL = 0.080, 0.070
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.040 + 0.010 = 0.050
;DAMPER_LENGTH = 0.43301 - 0.010 = 0.42301

RATE=0

[REAR_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS_REAR
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0

RATE=2250
;Soft rubber = 200 N/m
;Stiff rubber = 250 N/m
;9x 250 N/m bushing = 2250 N/m

[REAR_TORSION_0] ;TORSION SPRING
RATE=35000
PRELOAD=0
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;TORSION DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR
POS_A=0, 1, 0
POS_B=0, 0, 0

DAMP_BUMP=10000
DAMP_FAST_BUMP=10000
DAMP_FAST_BUMPTHRESHOLD=1
DAMP_REBOUND=10000
DAMP_FAST_REBOUND=10000
DAMP_FAST_REBOUNDTHRESHOLD=1
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.010
SUSP_LF=-0.010
WHEEL_RF=0.010
SUSP_RF=0.010
WHEEL_LR=-0.015
SUSP_LR=-0.015
WHEEL_RR=0.015
SUSP_RR=0.015

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1