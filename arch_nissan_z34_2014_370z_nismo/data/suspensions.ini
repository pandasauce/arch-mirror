[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.550
CG_LOCATION=0.560
;54% with no driver, full fuel
;53% with passengers, full fuel

[ARB]
FRONT=21938
REAR=17615
;F ARB diameter = 27.2 OD 16.6 ID NISMO
;F ARB MR = 0.544^2
;F ARB WIDTH = 812
;F ARB LEVER = 160
;F ARB DIAGONAL = 372 (283)

;R ARB diameter = 25.4 OD 18.4 ID NISMO
;R ARB MR = 0.431^2
;R ARB WIDTH = 889
;R ARB LEVER = 144
;R ARB DIAGONAL = 213 (144)

[FRONT]
TYPE=COSMIC
BASEY=-0.180
TRACK=1.635
;1.555 ET40
HUB_MASS=55
RIM_OFFSET=0.040
;ALLOY 8.0X18.0 ET43
;RAYS 9.0X19.0 ET47
;NISMO 9.5X19.0 ET40

;Z34 Front Geo

DJ0=F_Z34_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.35000, 0.40000, 0.12000
DJ0_POS_B=0.15250, 0.42000, -0.04400

DJ1=F_Z34_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.35000, 0.33000, -0.11000
DJ1_POS_B=0.15250, 0.42000, -0.04400
DJ1_KP=1

J0=F_Z34_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=F_Z34_LCA_BODY
J0_POS=0.42000, -0.12000, 0.02000

J1=F_Z34_LCA_REAR
J1_BODY_A=CHASSIS
J1_BODY_B=F_Z34_LCA_BODY
J1_POS=0.38000, -0.12000, -0.30000

J2=F_Z34_LCA_BJ
J2_BODY_A=F_Z34_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.08000, -0.12000, 0.00500
J2_KP=0

STEER_JOINT_0=F_Z34_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.39000, -0.10400, -0.14500
STEER_JOINT_0_POS_B=0.11000, -0.10000, -0.15500

;Z34 Front Sim Stuff

BODY_0_NAME=F_Z34_LCA_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.24000, -0.12000, -0.07000
BODY_0_MIRROR=1

TOE_OUT=0.00000 ;+0.17
STATIC_CAMBER=-0.71 ;-0.75
STEER_JOINT_0_LENGTH_OFFSET=0.00041 ;Steer Toe
;72L, NISMO

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=6750
PRELOAD=-0.006
;(NISMO -0.002 @ wheel, -0.001 @ damper)
;Driver -0.006 @ wheel
;-0.008 @ wheel, -0.006 @ damper TOTAL

BODY_A=CHASSIS
BODY_B=F_Z34_LCA_BODY
POS_A=0.37000, 0.48000, -0.04000
POS_B=0.22756, -0.12000, 0.01000

MIN_LENGTH=0.5577
MAX_LENGTH=0.6677
BUMPSTOP_GAP=0.021

;DAMPER_TRAVEL = 0.060, 0.050
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.020 + 0.001 = 0.021
;DAMPER_LENGTH = 0.6187 - 0.001 = 0.6177

INSTALL_RATE=1750000
RATE=84337
;73550 N/m Standard
;84337 N/m NISMO

[FRONT_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.008
PULL_FORCE=1

RATE=11721
;F_Z34_UCA_FRONT 0.19750 m 133 Nm/rad 3410 N/m
;F_Z34_UCA_REAR 0.19750 m 133 Nm/rad 3410 N/m
;F_Z34_LCA_FRONT 0.34000 m 166 Nm/rad 1436 N/m
;F_Z34_LCA_REAR 0.30000 m 166 Nm/rad 1844 N/m
;FRONT_COILOVER_0 0.32000 m 166 Nm/rad 1621 N/m

[REAR]
TYPE=COSMIC
BASEY=-0.180
TRACK=1.626
;1.580 ET23
HUB_MASS=55
RIM_OFFSET=0.023
;ALLOY 9.0X18.0 ET15
;RAYS 10.0X19.0 ET30
;NISMO 10.5X19.0 ET23

;Z34 Rear Geo

DJ0=R_Z34_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.43024, 0.12628, 0.11775
DJ0_POS_B=0.12519, 0.14336, 0.01902

DJ1=R_Z34_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.49254, 0.12840, -0.07456
DJ1_POS_B=0.12519, 0.14336, 0.01902
DJ1_KP=1

DJ2=R_Z34_LCA_FRONT
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.28005, -0.02348, 0.28000
DJ2_POS_B=0.13575, -0.08307, 0.05394

DJ3=R_Z34_LCA_REAR
DJ3_BODY_A=R_Z34_RLCA_CAMBER_BODY
DJ3_BODY_B=HUB_L
DJ3_POS_A=0.44934, -0.09797, 0.11096
DJ3_POS_B=0.14806, -0.13781, 0.07012
DJ3_KP=0

J0=R_Z34_STEER
J0_BODY_A=R_Z34_STEER_TOE_BODY
J0_BODY_B=R_Z34_STEER_BODY
J0_POS=0.58587, -0.03304, -0.14666

J1=R_Z34_STEER_BJ
J1_BODY_A=R_Z34_STEER_BODY
J1_BODY_B=HUB_L
J1_POS=0.13291, -0.04650, -0.12671

;Z34 Rear Adjusters

BODY_0_NAME=R_Z34_RLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.44934, -0.09797, 0.11096
BODY_0_MIRROR=1

SLIDER_0=R_Z34_RLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=R_Z34_RLCA_CAMBER_BODY
SLIDER_0_POS_A=0.54934, -0.09797, 0.11096
SLIDER_0_POS_B=0.44934, -0.09797, 0.11096
SLIDER_0_PARITY=-1

DJ4=R_Z34_RLCA_CAMBER_ADJUSTER
DJ4_BODY_A=CHASSIS
DJ4_BODY_B=R_Z34_RLCA_CAMBER_BODY
DJ4_POS_A=0.54934, -0.09797, 0.11096
DJ4_POS_B=0.44934, -0.09797, 0.11096

BODY_1_NAME=R_Z34_STEER_TOE_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.58587, -0.03304, -0.14666
BODY_1_MIRROR=1

SLIDER_1=R_Z34_STEER_TOE_SLIDER
SLIDER_1_BODY_A=CHASSIS
SLIDER_1_BODY_B=R_Z34_STEER_TOE_BODY
SLIDER_1_POS_A=0.68587, -0.03304, -0.14666
SLIDER_1_POS_B=0.58587, -0.03304, -0.14666
SLIDER_1_PARITY=-1

DJ5=R_Z34_STEER_TOE_ADJUSTER
DJ5_BODY_A=CHASSIS
DJ5_BODY_B=R_Z34_STEER_TOE_BODY
DJ5_POS_A=0.68587, -0.03304, -0.14666
DJ5_POS_B=0.58587, -0.03304, -0.14666

;Z34 Rear Sim Stuff

DJ6=R_Z34_STEER_HOOKES
DJ6_BODY_A=CHASSIS
DJ6_BODY_B=R_Z34_STEER_BODY
DJ6_POS_A=0.58587, 0.06696, -0.14666
DJ6_POS_B=0.58587, -0.03304, -0.04666

BODY_2_NAME=R_Z34_STEER_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.35939, -0.03977, -0.13669
BODY_2_MIRROR=1

TOE_OUT=0.00000 ;+0.15
STATIC_CAMBER=-1.71 ;-1.67
DJ4_LENGTH_OFFSET=-0.00101 ;RLCA Camber
DJ5_LENGTH_OFFSET=-0.00041 ;Steer Toe
;72L, NISMO

[REAR_COILOVER_0] ;CORNER SPRING
PULL_FORCE=0
PRELOAD_FORCE=4690
PRELOAD=-0.012
;(NISMO -0.010 @ wheel, -0.006 @ spring)
;Driver -0.009 @ wheel
;-0.019 @ wheel, -0.012 @ spring TOTAL

BODY_A=CHASSIS
BODY_B=R_Z34_STEER_BODY
POS_A=0.32070, 0.13134, -0.13679
POS_B=0.32401, -0.08274, -0.13882

MIN_LENGTH=0.05
MAX_LENGTH=1.21412
BUMPSTOP_GAP=0.17

;HARDSTOP_UP =
;BUMPSTOP_HEIGHT =
;HARDSTOP_GAP =
;SPRING_LENGTH = 0.21412

INSTALL_RATE=1750000
RATE=91202
;79434 N/m Standard
;91202 N/m NISMO

[REAR_COILOVER_1] ;CORNER DAMPER
ELECT_LOG=CORNER
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0.26523, 0.56133, -0.04331
POS_B=0.21540, 0.09439, -0.04295

MIN_LENGTH=0.37959
MAX_LENGTH=0.52959
BUMPSTOP_GAP=0.050

;DAMPER_TRAVEL = 0.080, 0.070
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.040 + 0.010 = 0.050
;DAMPER_LENGTH = 0.46959 - 0.010 = 0.45959

RATE=0

[REAR_SPRING_0] ;BUSHING SPRING
BODY_A=CHASSIS
BODY_B=HUB_L
POS_A=0, 1, 0
POS_B=0, 0, 0
PRELOAD=0.019
PULL_FORCE=1

RATE=12068
;R_Z34_UCA_FRONT 0.30505 m 133 Nm/rad 1429 N/m
;R_Z34_UCA_REAR 0.36735 m 133 Nm/rad 986 N/m
;R_Z34_LCA_FRONT 0.27473 m 166 Nm/rad 2199 N/m
;R_Z34_LCA_FRONT OUT 0.27473 m 166 Nm/rad 2199 N/m
;R_Z34_LCA_REAR 0.30664 m 133 Nm/rad 1414 N/m
;R_Z34_LCA_REAR OUT 0.30664 m 133 Nm/rad 1414 N/m
;R_Z34_TOE 0.45360 m 166 Nm/rad 807 N/m
;R_Z34_TOE OUT 0.45360 m 166 Nm/rad 807 N/m
;REAR_COILOVER_0 0.45173 m 166 Nm/rad 813 N/m

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.010
SUSP_LF=-0.010
WHEEL_RF=0.010
SUSP_RF=0.010
WHEEL_LR=-0.015
SUSP_LR=-0.015
WHEEL_RR=0.015
SUSP_RR=0.015

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1