[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
USE_DWB2=0
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.425
CG_LOCATION=0.510
;2002 Mazda RX-7 Spirit R
;Actual weight distribution 48.8:51.2
;Actual weight 1313kg 
;(including shooting equipment appox. 25kg, gasoline, etc)
;Driver 1.0% rearward

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=20499
REAR_MOTION_RATIO=1.0
REAR=6674
;F ARB diameter = 24.0 - 32.0
;F ARB MR = 0.479^2
;F ARB WIDTH	= 780
;F ARB LEVER	= 209
;F ARB DIAGONAL	= 260

;R ARB diameter = 13.8 - 20.0
;R ARB MR = 0.796^2
;R ARB WIDTH	= 1012
;R ARB LEVER	= 140
;R ARB DIAGONAL	= 149 (144)

[FRONT]
TYPE=COSMIC
BASEY=-0.170
TRACK=1.560
HUB_MASS=44.0
RIM_OFFSET=0.018
;0.038 wheel
;0.020 spacer

;FD3S Front Drift Geo

;Rack spacers +30deg

;High
;X = sin10.0 = 0.09922 + (0.17365 * -0.035) = 0.09314
;Z = sin80.0 = 0.14700 + (0.98481 * -0.035) = 0.11253
;STEER_JOINT_0_POS_A = 0.0000, 0.0000, +0.0250
;STEER_JOINT_0_POS_B = 0.0000, 0.0000, 0.0000

;Low
;X = sin10.0 = 0.09922 + (0.17365 * -0.035) = 0.09314
;Z = sin80.0 = 0.14700 + (0.98481 * -0.035) = 0.11253
;STEER_JOINT_0_POS_A = 0.0000, 0.0000, +0.0250
;STEER_JOINT_0_POS_B = +0.0050, 0.0000, 0.0000

DJ0=F_FD3S_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.34760, 0.13308, 0.04454
DJ0_POS_B=0.16800, 0.14928, -0.02800
;POS_B=0.16688, 0.14928, -0.02550 1991-1994
;POS_B=0.16800, 0.14928, -0.02800 1995+

DJ1=F_FD3S_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.33920, 0.11172, -0.18635
DJ1_POS_B=0.16800, 0.14928, -0.02800
DJ1_KP=1

J0=F_FD3S_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=F_FD3S_LCA_BODY_2
J0_POS=0.40040, -0.09816, -0.04000

J1=F_FD3S_LCA_REAR
J1_BODY_A=F_FD3S_RLCA_CASTER_BODY
J1_BODY_B=F_FD3S_LCA_BODY_2
J1_POS=0.38480, -0.07032, -0.33226

J2=F_FD3S_LCA_BJ
J2_BODY_A=F_FD3S_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.10736, -0.09240, 0.00000
J2_KP=0

STEER_JOINT_0=F_FD3S_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.44262, -0.08500, 0.10235 ;High
STEER_JOINT_0_POS_A_1=0.44262, -0.08500, 0.10235 ;Low

STEER_JOINT_0_POS_B=0.09314, -0.08500, 0.11253 ;High
STEER_JOINT_0_POS_B_1=0.09814, -0.08500, 0.11253 ;Low

;ADJUSTERS

BODY_0_NAME=F_FD3S_RLCA_CASTER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.38480, -0.07032, -0.33226
BODY_0_MIRROR=1

SLIDER_0=F_FD3S_RLCA_CASTER_SLIDER
SLIDER_0_BODY_A=CHASSIS
SLIDER_0_BODY_B=F_FD3S_RLCA_CASTER_BODY
SLIDER_0_POS_A=0.48480, -0.07032, -0.33226
SLIDER_0_POS_B=0.38480, -0.07032, -0.33226
SLIDER_0_PARITY=-1

DJ2=F_FD3S_RLCA_CASTER_ADJUSTER
DJ2_BODY_A=CHASSIS
DJ2_BODY_B=F_FD3S_RLCA_CASTER_BODY
DJ2_POS_A=0.48480, -0.07032, -0.33226
DJ2_POS_B=0.38480, -0.07032, -0.33226

SLIDER_1=F_FD3S_LCA_BODY_SLIDER
SLIDER_1_BODY_A=F_FD3S_LCA_BODY_2
SLIDER_1_BODY_B=F_FD3S_LCA_BODY
SLIDER_1_POS_A=0.34998, -0.08832, -0.09307
SLIDER_1_POS_B=0.24998, -0.08832, -0.09307
SLIDER_1_PARITY=-1

DJ3=F_FD3S_LCA_BODY_ADJUSTER
DJ3_BODY_A=F_FD3S_LCA_BODY_2
DJ3_BODY_B=F_FD3S_LCA_BODY
DJ3_POS_A=0.34998, -0.08832, -0.09307
DJ3_POS_B=0.24998, -0.08832, -0.09307

;SIM STUFF

BODY_1_NAME=F_FD3S_LCA_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.24998, -0.08832, -0.09307
BODY_1_MIRROR=1

BODY_2_NAME=F_FD3S_LCA_BODY_2
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.24998, -0.08832, -0.09307
BODY_2_MIRROR=1

TOE_OUT=0.00000 ;-0.05
STATIC_CAMBER=-0.11 ;-3.00
DJ0_LENGTH_OFFSET=-0.00301 ;UCA F Camber
DJ1_LENGTH_OFFSET=-0.00301 ;UCA R Camber
DJ3_LENGTH_OFFSET=0.00451 ;LCA Camber
STEER_JOINT_0_LENGTH_OFFSET=0.00301 ;Steer Toe
DJ2_LENGTH_OFFSET=0.00001 ;RLCA Caster
;30L, Driver, Drift

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=5070
PRELOAD=-0.025
;(Drift -0.040 @ wheel, -0.025 @ damper)

BODY_A=CHASSIS
BODY_B=F_FD3S_LCA_BODY
POS_A=0.31424, 0.42696, -0.08204
POS_B=0.21152, -0.07368, -0.02000

MIN_LENGTH=0.46982
MAX_LENGTH=0.52082
BUMPSTOP_GAP=0.045

;DAMPER_TRAVEL = 0.051, 0.031
;PACKER_HEIGHT = 0.031
;BUMPSTOP_GAP = 0.020 + 0.025 = 0.045
;DAMPER_LENGTH = 0.51482 - 0.025 = 0.48982

INSTALL_RATE=1990000
RATE=215820

[REAR]
TYPE=COSMIC
BASEY=-0.170
TRACK=1.560
HUB_MASS=41.1
RIM_OFFSET=0.028
;0.038 wheel
;0.010 spacer

;FD3S Rear Geo

J0=R_FD3S_UCA_FRONT
J0_BODY_A=CHASSIS_REAR_0
J0_BODY_B=R_FD3S_UCA_BODY
J0_POS=0.35192, 0.13096, 0.08000

J1=R_FD3S_UCA_REAR
J1_BODY_A=CHASSIS_REAR_0
J1_BODY_B=R_FD3S_UCA_BODY
J1_POS=0.39192, 0.14696, -0.08000

J2=R_FD3S_UCA_BJ
J2_BODY_A=R_FD3S_UCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.15248, 0.13968, -0.04000
J2_KP=1

DJ0=R_FD3S_LCA_FRONT
DJ0_BODY_A=CHASSIS_REAR_0
DJ0_BODY_B=R_FD3S_LCA_REAR_BODY
DJ0_POS_A=0.24560, -0.07760, 0.50396
DJ0_POS_B=0.16760, -0.11712, -0.07000

J3=R_FD3S_LCA_REAR
J3_BODY_A=R_FD3S_RLCA_CAMBER_BODY
J3_BODY_B=R_FD3S_LCA_REAR_BODY
J3_POS=0.42056, -0.10496, -0.10079

J4=R_FD3S_LCA_REAR_BJ
J4_BODY_A=R_FD3S_LCA_REAR_BODY
J4_BODY_B=HUB_L
J4_POS=0.07760, -0.11616, -0.06000
J4_KP=0

STEER_JOINT_0=R_FD3S_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR_0
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.30392, 0.01552, 0.21389
STEER_JOINT_0_POS_B=0.09392, 0.01032, 0.15207

;CAMBER

BODY_0_NAME=R_FD3S_RLCA_CAMBER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.42056, -0.10496, -0.10079
BODY_0_MIRROR=1

SLIDER_0=R_FD3S_RLCA_CAMBER_SLIDER
SLIDER_0_BODY_A=CHASSIS_REAR_0
SLIDER_0_BODY_B=R_FD3S_RLCA_CAMBER_BODY
SLIDER_0_POS_A=0.52056, -0.10496, -0.10079
SLIDER_0_POS_B=0.42056, -0.10496, -0.10079
SLIDER_0_PARITY=-1

DJ1=R_FD3S_RLCA_CAMBER_ADJUSTER
DJ1_BODY_A=CHASSIS_REAR_0
DJ1_BODY_B=R_FD3S_RLCA_CAMBER_BODY
DJ1_POS_A=0.52056, -0.10496, -0.10079
DJ1_POS_B=0.42056, -0.10496, -0.10079

;SIM STUFF

DJ2=R_FD3S_LCA_REAR_HOOKES
DJ2_BODY_A=R_FD3S_RLCA_CAMBER_BODY
DJ2_BODY_B=R_FD3S_LCA_REAR_BODY
DJ2_POS_A=0.42056, -0.00496, -0.10079
DJ2_POS_B=0.42056, -0.10496, -0.00079

BODY_1_NAME=R_FD3S_UCA_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.26220, 0.13932, -0.02000
BODY_1_MIRROR=1

BODY_2_NAME=R_FD3S_LCA_REAR_BODY
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.24908, -0.11056, -0.08040
BODY_2_MIRROR=1

BODY_3_NAME=CHASSIS_REAR_0
BODY_3_MASS=273.1
;1285 - ((44.0 * 2) + (41.1 * 2))) * (1 - 0.510) / 2
BODY_3_INERTIA=1.284, 1.110, 4.015
BODY_3_CARPOS=0, 0, 0
BODY_3_USE_FOR_ARB=1

BODY_4_NAME=CHASSIS_REAR_1
BODY_4_MASS=273.1
BODY_4_INERTIA=1.284, 1.110, 4.015
BODY_4_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS_REAR_1
HJ0_BODY_B=CHASSIS_REAR_0
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

HJ1=PITCH_HINGE
HJ1_BODY_A=CHASSIS
HJ1_BODY_B=CHASSIS_REAR_1
HJ1_CARPOS_A=1, 0, 0
HJ1_CARPOS_B=-1, 0, 0

ENGINE_TORQUE_BODY=CHASSIS_REAR_0

TOE_OUT=0.00000 ;+0.10
STATIC_CAMBER=-1.21 ;-1.00
DJ1_LENGTH_OFFSET=-0.00251 ;RLCA Camber
STEER_JOINT_0_LENGTH_OFFSET=-0.00201 ;Steer Toe
DJ0_LENGTH_OFFSET=-0.00301 ;LCA F Bumpsteer
;30L, Driver, Drift

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=3650
PRELOAD=-0.029
;(Drift -0.040 @ wheel, -0.029 @ damper)

BODY_A=CHASSIS_REAR_0
BODY_B=R_FD3S_UCA_BODY
POS_A=0.31688, 0.56896, 0.01612
POS_B=0.20672, 0.11952, -0.03000

MIN_LENGTH=0.36604
MAX_LENGTH=0.45704
BUMPSTOP_GAP=0.068

;DAMPER_TRAVEL = 0.069, 0.022
;PACKER_HEIGHT = 0.031
;BUMPSTOP_GAP = 0.038 + 0.030 = 0.068
;DAMPER_LENGTH = 0.46504 - 0.030 = 0.43504

INSTALL_RATE=1990000
RATE=137340

[REAR_TORSION_0] ;X TORSION SPRING
RATE=15000
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;X TORSION DAMPER
BODY_A=CHASSIS_REAR_1
BODY_B=CHASSIS_REAR_0
POS_A=	-0.220, 1, 1.237
POS_B=	-0.220, 0, 1.237

DAMP_BUMP=15320
DAMP_REBOUND=15320
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[REAR_TORSION_1] ;Y PITCH SPRING
RATE=150000
HINGE=PITCH_HINGE
PARITY=0

[REAR_DAMPER_1] ;Y PITCH DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR_1
POS_A=	0.780, 1, 2.237
POS_B=	0.780, 0, 2.237

DAMP_BUMP=48447
DAMP_REBOUND=48447
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.005
SUSP_LF=-0.005
WHEEL_RF=0.005
SUSP_RF=0.005
WHEEL_LR=-0.015
SUSP_LR=-0.015
WHEEL_RR=0.015
SUSP_RR=0.015

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1