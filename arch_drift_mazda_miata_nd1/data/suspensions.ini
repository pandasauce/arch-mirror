[HEADER]
VERSION=4

[_EXTENSION]
TORQUE_MODE_EX=2
FIX_PROGRESSIVE_RATE=1
DAMPER_LUTS=1

;[ODE]                          ;optional - tuning these parameters can help with stability. See Open Dynamics Engine Manual (http://ode.org/wiki/index.php/Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29) for more information.
;ERP=0.9                        ;this is the AC default for certain joint types, others (and global value) are 0.3
;CFM=1                          ;*10^-7 - just did this to keep numbers more reasonable

[BASIC]
WHEELBASE=2.310
CG_LOCATION=0.525
;6MT 52% with no driver, no fuel
;6AT 53% with no driver, no fuel

[ARB]
EXTEND=1
FRONT_MOTION_RATIO=1.0
FRONT=20499
REAR_MOTION_RATIO=1.0
REAR=1680
;F ARB diameter = 23.0 - 28.6
;F ARB MR = 0.570^2
;F ARB WIDTH = 935 / 935
;F ARB LEVER = 230 / 230, 245, 260
;F ARB DIAGONAL = 236 / 236, 251, 266

;R ARB diameter = 11.0 - 16.0
;R ARB MR = 0.500^2
;R ARB WIDTH = 813 / 813 
;R ARB LEVER = 133 / 145, 160, 175
;R ARB DIAGONAL = 171 / 171, 186, 201

[FRONT]
TYPE=COSMIC
BASEY=-0.210
;NC 482mm~
;ND 476mm~
TRACK=1.585
;1.495 ET45
HUB_MASS=28.6
RIM_OFFSET=0.045

;ND Front Drift Geo

;High
;STEER_JOINT_0_POS_A = 0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B = +0.004, 0.000, -0.033

;Low
;STEER_JOINT_0_POS_A = 0.000, 0.000, +0.025
;STEER_JOINT_0_POS_B = +0.009, 0.000, -0.034

DJ0=F_ND_UCA_FRONT
DJ0_BODY_A=CHASSIS
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.35606, 0.08500, 0.06167
DJ0_POS_B=0.15226, 0.11000, -0.03217

DJ1=F_ND_UCA_REAR
DJ1_BODY_A=CHASSIS
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.35606, 0.08000, -0.12067
DJ1_POS_B=0.15226, 0.11000, -0.03217
DJ1_KP=1

J0=F_ND_LCA_FRONT
J0_BODY_A=CHASSIS
J0_BODY_B=F_ND_LCA_BODY_2
J0_POS=0.46333, -0.11000, -0.04022

J1=F_ND_LCA_REAR
J1_BODY_A=F_ND_RLCA_CASTER_BODY
J1_BODY_B=F_ND_LCA_BODY_2
J1_POS=0.43383, -0.10000, -0.34324

J2=F_ND_LCA_BJ
J2_BODY_A=F_ND_LCA_BODY
J2_BODY_B=HUB_L
J2_POS=0.10000, -0.10000, -0.00150
J2_KP=0

STEER_JOINT_0=F_ND_TOE
STEER_JOINT_0_BODY_A=CHASSIS
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.40969, -0.07250, 0.11215 ;High
STEER_JOINT_0_POS_A_1=0.40969, -0.07250, 0.11215 ;Low

STEER_JOINT_0_POS_B=0.08922, -0.06000, 0.08230 ;High
STEER_JOINT_0_POS_B_1=0.09422, -0.06000, 0.08130 ;Low

;ADJUSTERS

SLIDER_0=F_ND_LCA_BODY_SLIDER
SLIDER_0_BODY_A=F_ND_LCA_BODY
SLIDER_0_BODY_B=F_ND_LCA_BODY_2
SLIDER_0_POS_A=0.27429, -0.10250, -0.09662
SLIDER_0_POS_B=0.37429, -0.10250, -0.09662
SLIDER_0_PARITY=-1

DJ2=F_ND_LCA_BODY_ADJUSTER
DJ2_BODY_A=F_ND_LCA_BODY
DJ2_BODY_B=F_ND_LCA_BODY_2
DJ2_POS_A=0.27429, -0.10250, -0.09662
DJ2_POS_B=0.37429, -0.10250, -0.09662

BODY_0_NAME=F_ND_RLCA_CASTER_BODY
BODY_0_MASS=1
BODY_0_INERTIA=0.1, 0.1, 0.1
BODY_0_POS=0.43383, -0.10000, -0.34324
BODY_0_MIRROR=1

SLIDER_1=F_ND_RLCA_CASTER_SLIDER
SLIDER_1_BODY_A=CHASSIS
SLIDER_1_BODY_B=F_ND_RLCA_CASTER_BODY
SLIDER_1_POS_A=0.53383, -0.10000, -0.34324
SLIDER_1_POS_B=0.43383, -0.10000, -0.34324
SLIDER_1_PARITY=-1

DJ3=F_ND_RLCA_CASTER_ADJUSTER
DJ3_BODY_A=CHASSIS
DJ3_BODY_B=F_ND_RLCA_CASTER_BODY
DJ3_POS_A=0.53383, -0.10000, -0.34324
DJ3_POS_B=0.43383, -0.10000, -0.34324

;SIM STUFF

BODY_1_NAME=F_ND_LCA_BODY
BODY_1_MASS=1
BODY_1_INERTIA=0.1, 0.1, 0.1
BODY_1_POS=0.27429, -0.10250, -0.09662
BODY_1_MIRROR=1

BODY_2_NAME=F_ND_LCA_BODY_2
BODY_2_MASS=1
BODY_2_INERTIA=0.1, 0.1, 0.1
BODY_2_POS=0.27429, -0.10250, -0.09662
BODY_2_MIRROR=1

TOE_OUT=0.00000 ;-0.05
STATIC_CAMBER=-0.51 ;-3.00
DJ0_LENGTH_OFFSET=0.02201 ;UCA F Camber
DJ1_LENGTH_OFFSET=0.02201 ;UCA R Camber
DJ2_LENGTH_OFFSET=0.03001 ;LCA Camber
STEER_JOINT_0_LENGTH_OFFSET=0.02811 ;Steer Toe
DJ3_LENGTH_OFFSET=0.00401 ;RLCA Caster
;30L, Drift, Driver

[FRONT_COILOVER_0] ;CORNER SPRING + DAMPER
;ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=4270
PRELOAD=-0.029
;(Drift -0.040 @ wheel, -0.029 @ damper)

BODY_A=CHASSIS
BODY_B=F_ND_LCA_BODY
POS_A=0.31450, 0.35000, -0.04022
POS_B=0.20455, -0.08000, -0.02681

MIN_LENGTH=0.35504
MAX_LENGTH=0.45604
BUMPSTOP_GAP=0.049

;DAMPER_TRAVEL = 0.060, 0.040
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.020 + 0.029 = 0.049
;DAMPER_LENGTH = 0.44404 - 0.029 = 0.41504

INSTALL_RATE=16670000
RATE=78480
;8

[REAR]
TYPE=COSMIC
BASEY=-0.210
;NC 482mm~
;ND 476mm~
TRACK=1.595
;1.505 ET45
HUB_MASS=27.2
RIM_OFFSET=0.045

;ND Rear Geo

DJ0=R_ND_UCA_FRONT
DJ0_BODY_A=CHASSIS_REAR_0
DJ0_BODY_B=HUB_L
DJ0_POS_A=0.31336, 0.11750, 0.062034
DJ0_POS_B=0.09085, 0.12000, 0.062034

DJ1=R_ND_UCA_REAR
DJ1_BODY_A=CHASSIS_REAR_0
DJ1_BODY_B=HUB_L
DJ1_POS_A=0.41181, 0.10000, -0.26971
DJ1_POS_B=0.09489, 0.10000, -0.06203
DJ1_KP=1

DJ2=R_ND_LCA_FRONT
DJ2_BODY_A=CHASSIS_REAR_0
DJ2_BODY_B=HUB_L
DJ2_POS_A=0.36595, -0.06000, 0.24004
DJ2_POS_B=0.09000, -0.14000, -0.00000

DJ3=R_ND_LCA_REAR
DJ3_BODY_A=CHASSIS_REAR_0
DJ3_BODY_B=HUB_L
DJ3_POS_A=0.51160, -0.03000, -0.14564
DJ3_POS_B=0.09219, -0.05000, -0.12137
DJ3_KP=0

STEER_JOINT_0=R_ND_TOE
STEER_JOINT_0_BODY_A=CHASSIS_REAR_0
STEER_JOINT_0_BODY_B=HUB_L
STEER_JOINT_0_POS_A=0.42125, -0.07250, 0.09709
STEER_JOINT_0_POS_B=0.08500, -0.11000, 0.08000

;SIM STUFF

BODY_0_NAME=CHASSIS_REAR_0
BODY_0_MASS=230.0
;1080 - ((28.6 * 2) + (27.2 * 2))) * (1 - 0.525) / 2
BODY_0_INERTIA=1.300, 1.300, 3.400
BODY_0_CARPOS=0, 0, 0
BODY_0_USE_FOR_ARB=1

BODY_1_NAME=CHASSIS_REAR_1
BODY_1_MASS=230.0
BODY_1_INERTIA=1.300, 1.300, 3.400
BODY_1_CARPOS=0, 0, 0

HJ0=TORSION_HINGE
HJ0_BODY_A=CHASSIS_REAR_1
HJ0_BODY_B=CHASSIS_REAR_0
HJ0_CARPOS_A=0, 0, 1
HJ0_CARPOS_B=0, 0, -1

HJ1=PITCH_HINGE
HJ1_BODY_A=CHASSIS
HJ1_BODY_B=CHASSIS_REAR_1
HJ1_CARPOS_A=1, 0, 0
HJ1_CARPOS_B=-1, 0, 0

ENGINE_TORQUE_BODY=CHASSIS_REAR_0

TOE_OUT=0.00000 ;+0.10
STATIC_CAMBER=-1.41 ;-1.00
DJ0_LENGTH_OFFSET=0.00451 ;UCA F Camber
DJ3_LENGTH_OFFSET=0.00001 ;LCA R Camber
STEER_JOINT_0_LENGTH_OFFSET=-0.00201 ;Steer Toe
DJ1_LENGTH_OFFSET=0.00301 ;UCA R Bumpsteer
DJ2_LENGTH_OFFSET=0.00001 ;LCA F Bumpsteer
;30L, Drift, Driver

[REAR_COILOVER_0] ;CORNER SPRING + DAMPER
FLIP_PRELOAD=0
ELECT_LOG=CORNER
PULL_FORCE=0
PRELOAD_FORCE=2205
PRELOAD=-0.037
;(Drift -0.040 @ wheel, -0.037 @ damper)

BODY_A=CHASSIS_REAR_0
BODY_B=HUB_L
POS_A=0.29043, 0.37000, -0.07956
POS_B=0.17041, -0.08000, -0.06607

MIN_LENGTH=0.34893
MAX_LENGTH=0.46893
BUMPSTOP_GAP=0.077

;DAMPER_TRAVEL = 0.080, 0.040
;PACKER_HEIGHT = 0.040
;BUMPSTOP_GAP = 0.040 + 0.037 = 0.077
;DAMPER_LENGTH = 0.46593 - 0.037 = 0.42893

INSTALL_RATE=16670000
RATE=49050
;5

[REAR_TORSION_0] ;X TORSION SPRING
RATE=10000
HINGE=TORSION_HINGE
PARITY=0

[REAR_DAMPER_0] ;X TORSION DAMPER
BODY_A=CHASSIS_REAR_1
BODY_B=CHASSIS_REAR_0
POS_A=	-0.203, 1, 1.213
POS_B=	-0.203, 0, 1.213

DAMP_BUMP=11544
DAMP_REBOUND=11544
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[REAR_TORSION_1] ;Y PITCH SPRING
RATE=100000
HINGE=PITCH_HINGE
PARITY=0

[REAR_DAMPER_1] ;Y PITCH DAMPER
BODY_A=CHASSIS
BODY_B=CHASSIS_REAR_1
POS_A=	0.798, 1, 2.213
POS_B=	0.798, 0, 2.213

DAMP_BUMP=36506
DAMP_REBOUND=36506
DAMP_FAST_BUMPTHRESHOLD=99
DAMP_FAST_REBOUNDTHRESHOLD=99
PARITY=0

[GRAPHICS_OFFSETS]
WHEEL_LF=-0.000
SUSP_LF=-0.000
WHEEL_RF=0.000
SUSP_RF=0.000
WHEEL_LR=-0.000
SUSP_LR=-0.000
WHEEL_RR=0.000
SUSP_RR=0.000

[DAMAGE]
MIN_VELOCITY=40
GAIN=0.0004
MAX_DAMAGE=0.05
DEBUG_LOG=1